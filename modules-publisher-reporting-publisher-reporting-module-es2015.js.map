{"version":3,"sources":["./src/app/modules/publisher-reporting/publisher-reporting-routing.module.ts","./src/app/modules/publisher-reporting/publisher-reporting.component.ts","./src/app/modules/publisher-reporting/publisher-reporting.component.html","./src/app/modules/publisher-reporting/publisher-reporting.module.ts","./src/app/modules/publisher-reporting/publisher/publisher.component.ts","./src/app/modules/publisher-reporting/publisher/publisher.component.html"],"names":[],"mappings":"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","file":"modules-publisher-reporting-publisher-reporting-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { PublisherReportingComponent } from './publisher-reporting.component';\r\nimport { PublisherComponent } from './publisher/publisher.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PublisherReportingComponent,\r\n    children: [\r\n      {\r\n        path: ':tagId',\r\n        component: PublisherComponent,\r\n        pathMatch: 'full',\r\n      },\r\n\r\n      { path: '', redirectTo: '', pathMatch: 'full' },\r\n      { path: '**', redirectTo: '', pathMatch: 'full' },\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class PublisherReportingRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-publisher-reporting',\r\n  templateUrl: './publisher-reporting.component.html',\r\n  styleUrls: ['./publisher-reporting.component.scss']\r\n})\r\nexport class PublisherReportingComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\r\nimport { CommonModule, CurrencyPipe, DatePipe, PercentPipe } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { PublisherReportingRoutingModule } from './publisher-reporting-routing.module';\r\nimport { PublisherComponent } from './publisher/publisher.component';\r\nimport { PublisherReportingComponent } from './publisher-reporting.component';\r\nimport { SharedModule } from 'src/app/shared/modules/shared.module';\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PublisherComponent, \r\n    PublisherReportingComponent\r\n  ],\r\n  imports: [\r\n    RouterModule,\r\n    CommonModule,\r\n    PublisherReportingRoutingModule,\r\n    SharedModule,\r\n    NgxDatatableModule\r\n  ],\r\n  providers: [DatePipe, PercentPipe, CurrencyPipe],\r\n  entryComponents: [],\r\n})\r\nexport class PublisherReportingModule { }\r\n","import { Component, AfterViewInit, ChangeDetectorRef, ViewChild } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { TagInterface } from 'src/app/shared/models/tag.interface';\r\nimport { TagManagementService } from '../../tag-management/tag-management.service';\r\nimport { UsersService } from '../../../shared/service/users.service'\r\nimport { ChartDataInterface } from 'src/app/shared/models/chartData.interface';\r\nimport { PerionService } from 'src/app/shared/service/admin-stats/perion.service';\r\nimport { LyonService } from 'src/app/shared/service/admin-stats/lyon.service';\r\nimport { VerizonService } from 'src/app/shared/service/admin-stats/verizon.service';\r\nimport { RubiService } from 'src/app/shared/service/admin-stats/rubi.service';\r\nimport { SolexBCService } from 'src/app/shared/service/admin-stats/solexbc.service';\r\nimport { System1Service } from 'src/app/shared/service/admin-stats/system1.service';\r\nimport { ApptitudeService } from 'src/app/shared/service/admin-stats/apptitude.service';\r\nimport { ExportDataService } from 'src/app/shared/service/export-data.service';\r\nimport { CurrencyPipe, DatePipe, PercentPipe } from '@angular/common';\r\n\r\n@Component({\r\n  selector: 'app-publisher',\r\n  templateUrl: './publisher.component.html',\r\n  styleUrls: ['./publisher.component.scss']\r\n})\r\nexport class PublisherComponent implements AfterViewInit {\r\n  @ViewChild('expandableTable') table: any;\r\n  loadingIndicator = true;\r\n  tagRows: any;\r\n  //Sends chartData to ReportingRevenueChartComponent\r\n  chartData: ChartDataInterface;\r\n  selectedCompany: any;\r\n  selectedAdvertiser: any;\r\n  allChart: any;\r\n  allPerionChart: any;\r\n  allVerizonChart: any;\r\n  allRubiChart: any;\r\n  allSolexBCChart: any;\r\n  allApptitudeChart: any;\r\n  range = {\r\n    startDate: '',\r\n    endDate: '',\r\n  };\r\n  statData: any;\r\n  allLyonStatData: any;\r\n  allPerionStatData: any;\r\n  allVerizonStatData: any;\r\n  allRubiStatData: any;\r\n  allSolexBCStatData: any;\r\n  allApptitudeStatData: any;\r\n  users: any;\r\n  paramTagId: string;\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private tagManagementService: TagManagementService,\r\n    private cdr: ChangeDetectorRef,\r\n    private userService: UsersService,\r\n    private perionService: PerionService,\r\n    private lyonService: LyonService,\r\n    private verizonService: VerizonService,\r\n    private rubiService: RubiService,\r\n    private solexbcService: SolexBCService,\r\n    private system1Service: System1Service,\r\n    private apptitudeService: ApptitudeService,\r\n    private exportDataService: ExportDataService,\r\n    private datePipe: DatePipe,\r\n    private currencyPipe: CurrencyPipe,\r\n    private percentPipe: PercentPipe,\r\n  ) {\r\n    this.selectedCompany = this.getSelectedCompanyFromLocalStorage();\r\n  }\r\n\r\n  async ngAfterViewInit() {\r\n    this.route.params.subscribe(async routeParams => {\r\n      this.paramTagId = routeParams.tagId\r\n      this.statData = [];\r\n      this.tagRows = await this.getTagInformation(routeParams.tagId);\r\n      this.selectedAdvertiser = this.tagRows.advertiser;\r\n      this.selectedCompany = this.tagRows.company;\r\n \r\n      if (this.selectedAdvertiser == \"lyons\") {\r\n        this.chartData = await this.getLyonChartMetrics(\r\n          this.selectedCompany,\r\n          this.range.startDate,\r\n          this.range.endDate\r\n        );\r\n        this.statData = await this.getAllLyonStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n\r\n      } else if (this.selectedAdvertiser == \"perion\") {\r\n        this.chartData = await this.getPerionChartMetrics(\r\n          this.selectedCompany,\r\n          this.range.startDate,\r\n          this.range.endDate\r\n        );\r\n        this.statData = await this.getAllPerionStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n      } else if (this.selectedAdvertiser == \"verizon-direct\") {\r\n        this.chartData = await this.getVerizonChartMetrics(\r\n          this.selectedCompany,\r\n          this.range.startDate,\r\n          this.range.endDate\r\n        );\r\n        this.statData = await this.getAllVerizonStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n      } else if (this.selectedAdvertiser == \"rubi\") {\r\n        this.chartData = await this.getRubiChartMetrics(\r\n          this.selectedCompany,\r\n          this.range.startDate,\r\n          this.range.endDate\r\n        );\r\n        this.statData = await this.getRubiAllStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n      } else if (this.selectedAdvertiser == \"solex-bc\") {\r\n        this.chartData = await this.getSolexBCChartMetrics(\r\n          this.selectedCompany,\r\n          this.range.startDate,\r\n          this.range.endDate\r\n        );\r\n        this.statData = await this.getSolexBCAllStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n      } else if (this.selectedAdvertiser == \"system1\") {\r\n        this.chartData = await this.getSystem1ChartMetrics(\r\n          this.selectedCompany,\r\n          this.range.startDate,\r\n          this.range.endDate\r\n        );\r\n        this.statData = await this.getSystem1AllStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n      } else if (this.selectedAdvertiser == \"apptitude\") {\r\n        this.chartData = await this.getApptitudeChartMetrics(\r\n          this.selectedCompany,\r\n          this.range.startDate,\r\n          this.range.endDate\r\n        );\r\n        this.statData = await this.getApptitudePublisherStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n      }\r\n      this.loadingIndicator = false;\r\n      this.refreshTable();\r\n    });\r\n\r\n  }\r\n  //Gets the Selected Company from Local Storage\r\n  getSelectedCompanyFromLocalStorage() {\r\n    return this.userService.getSelectedCompanyFromLocalStorage();\r\n  }\r\n  toggleExpandRow(row) {\r\n    // console.log('Toggled Expand Row!', row);\r\n    this.table.rowDetail.toggleExpandRow(row);\r\n  }\r\n\r\n  onDetailToggle(event) {\r\n    // console.log('Detail Toggled', event);\r\n  }\r\n\r\n  getTagInformation(id: any) {\r\n    return this.tagManagementService.getOneTag(id).toPromise().then((response) => {\r\n      return response;\r\n    }).catch((error) => {\r\n      return error;\r\n    })\r\n  }\r\n\r\n  public async updateReportingFiltering(range) {\r\n    // console.log('Update report filtering....');\r\n    this.range = range;\r\n    if (this.selectedAdvertiser == \"lyons\") {\r\n      this.chartData = await this.getLyonChartMetrics(\r\n        this.selectedCompany,\r\n        this.range.startDate,\r\n        this.range.endDate\r\n      );\r\n      this.statData = await this.getAllLyonStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n    } else if (this.selectedAdvertiser == \"perion\") {\r\n      this.chartData = await this.getPerionChartMetrics(\r\n        this.selectedCompany,\r\n        this.range.startDate,\r\n        this.range.endDate\r\n      );\r\n      this.statData = await this.getAllPerionStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n    } else if (this.selectedAdvertiser == \"verizon-direct\") {\r\n      this.chartData = await this.getVerizonChartMetrics(\r\n        this.selectedCompany,\r\n        this.range.startDate,\r\n        this.range.endDate\r\n      );\r\n      this.statData = await this.getAllVerizonStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n    } else if (this.selectedAdvertiser == \"rubi\") {\r\n      this.chartData = await this.getRubiChartMetrics(\r\n        this.selectedCompany,\r\n        this.range.startDate,\r\n        this.range.endDate\r\n      );\r\n      this.statData = await this.getRubiAllStats(this.range.startDate, this.range.endDate, this.tagRows);\r\n    } else if (this.selectedAdvertiser == \"solex-bc\") {\r\n      this.chartData = await this.getSolexBCChartMetrics(\r\n        this.selectedCompany,\r\n        this.range.startDate,\r\n        this.range.endDate\r\n      );\r\n      this.statData = await this.getSolexBCAllStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n    } else if (this.selectedAdvertiser == \"system1\") {\r\n      this.chartData = await this.getSystem1ChartMetrics(\r\n        this.selectedCompany,\r\n        this.range.startDate,\r\n        this.range.endDate\r\n      );\r\n      this.statData = await this.getSystem1AllStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n    } else if (this.selectedAdvertiser == \"apptitude\") {\r\n      this.chartData = await this.getApptitudeChartMetrics(\r\n        this.selectedCompany,\r\n        this.range.startDate,\r\n        this.range.endDate\r\n      );\r\n      this.statData = await this.getApptitudePublisherStats(this.range.startDate, this.range.endDate, this.tagRows)\r\n    }\r\n    this.loadingIndicator = false;\r\n    this.refreshTable();\r\n  }\r\n\r\n  getLyonChartMetrics(company, startDate, endDate) {\r\n    return this.lyonService.getAllPublisherStats(startDate, endDate).toPromise().then((response) => {\r\n      this.allChart = response;\r\n      var chartAllLyonStat = [];\r\n      for (var tagSub of this.tagRows.subids) {\r\n        if (tagSub['filterTag'] == \"Contains\") {\r\n          chartAllLyonStat = chartAllLyonStat.concat(this.allChart.filter(stat => stat.subid.includes(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"StartsWith\") {\r\n          chartAllLyonStat = chartAllLyonStat.concat(this.allChart.filter(stat => stat.subid.startsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"EndsWith\") {\r\n          chartAllLyonStat = chartAllLyonStat.concat(this.allChart.filter(stat => stat.subid.endsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"ExactValue\") {\r\n          chartAllLyonStat = chartAllLyonStat.concat(this.allChart.filter(stat => stat.subid == tagSub['subid']))\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = chartAllLyonStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      // filter_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      // })\r\n      filter_data = filter_data.slice().sort((a, b) => a.date - b.date);\r\n\r\n      var helperChart = {};\r\n      var resultChart = filter_data.reduce(function (r, o) {\r\n        var key = o.date;\r\n        if (!helperChart[key]) {\r\n          helperChart[key] = Object.assign({}, o); // create a copy of o\r\n          r.push(helperChart[key]);\r\n        } else {\r\n          helperChart[key].searches += parseInt(o.searches);\r\n          if (o.revenue) {\r\n            helperChart[key].revenue += o.revenue;\r\n          }\r\n        }\r\n        return r;\r\n      }, []);\r\n\r\n      var revenuePerDayVal = [];\r\n      var publisherRevenuePerDayVal = [];\r\n      var datesOfRevenueVal = [];\r\n      var searchesPerDayVal = [];\r\n      var chartDataValue = {};\r\n      for (var resVal of resultChart) {\r\n        revenuePerDayVal.push(0);\r\n        publisherRevenuePerDayVal.push(resVal.revenue);\r\n        datesOfRevenueVal.push(resVal.date);\r\n        searchesPerDayVal.push(resVal.searches);\r\n      }\r\n      chartDataValue['revenuePerDay'] = revenuePerDayVal;\r\n      chartDataValue['publisherRevenuePerDay'] = publisherRevenuePerDayVal;\r\n      chartDataValue['datesOfRevenue'] = datesOfRevenueVal;\r\n      chartDataValue['searchesPerDay'] = searchesPerDayVal;\r\n      return chartDataValue;\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n\r\n  }\r\n  refreshTable() {\r\n    this.cdr.markForCheck();\r\n  }\r\n\r\n  exportToCsv(): void {\r\n    let exportCov = [];\r\n    for (var statOne of this.statData) {\r\n      let stat = {\r\n        date: this.datePipe.transform(statOne.date, \"dd MMM yyyy\"),\r\n        searches: statOne.searches,\r\n        cpc: this.currencyPipe.transform(statOne.cpc ? statOne.cpc : 0),\r\n        ctr: this.percentPipe.transform(statOne.ctr, \"1.2-2\"),\r\n        revenue: statOne.revenue,\r\n      };\r\n      exportCov.push(stat);\r\n    }\r\n    this.exportDataService.exportToCsv(exportCov, this.tagRows.nickName ? this.tagRows.nickName : this.tagRows.name, ['date', 'searches', 'cpc', 'ctr', 'revenue']);\r\n  }\r\n\r\n  getPerionChartMetrics(company, startDate, endDate) {\r\n    return this.perionService.getPerTagPerionStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allPerionChart = response;\r\n      var chartAllPerionStat = [];\r\n      for (var tagSub of this.tagRows.subids) {\r\n        if (tagSub['filterTag'] == \"Contains\") {\r\n          chartAllPerionStat = chartAllPerionStat.concat(this.allPerionChart.filter(stat => stat.subid.includes(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"StartsWith\") {\r\n          chartAllPerionStat = chartAllPerionStat.concat(this.allPerionChart.filter(stat => stat.subid.startsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"EndsWith\") {\r\n          chartAllPerionStat = chartAllPerionStat.concat(this.allPerionChart.filter(stat => stat.subid.endsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"ExactValue\") {\r\n          chartAllPerionStat = chartAllPerionStat.concat(this.allPerionChart.filter(stat => stat.subid == tagSub['subid']))\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = chartAllPerionStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      filter_data = filter_data.slice().sort((a, b) => a.date - b.date);\r\n      var helperChart = {};\r\n      var resultChart = filter_data.reduce(function (r, o) {\r\n        var key = o.date;\r\n        if (!helperChart[key]) {\r\n          helperChart[key] = Object.assign({}, o); // create a copy of o\r\n          r.push(helperChart[key]);\r\n        } else {\r\n          helperChart[key].searches += parseInt(o.impressions);\r\n          if (o.revenue) {\r\n            helperChart[key].revenue += o.revenue;\r\n          }\r\n        }\r\n        return r;\r\n      }, []);\r\n\r\n      var revenuePerDayVal = [];\r\n      var publisherRevenuePerDayVal = [];\r\n      var datesOfRevenueVal = [];\r\n      var searchesPerDayVal = [];\r\n      var chartDataValue = {};\r\n      for (var resVal of resultChart) {\r\n        revenuePerDayVal.push(0);\r\n        publisherRevenuePerDayVal.push(resVal.revenue);\r\n        datesOfRevenueVal.push(resVal.date);\r\n        searchesPerDayVal.push(resVal.impressions);\r\n      }\r\n      chartDataValue['revenuePerDay'] = revenuePerDayVal;\r\n      chartDataValue['publisherRevenuePerDay'] = publisherRevenuePerDayVal;\r\n      chartDataValue['datesOfRevenue'] = datesOfRevenueVal;\r\n      chartDataValue['searchesPerDay'] = searchesPerDayVal;\r\n      return chartDataValue;\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  getAllPerionStats(startDate, endDate, tag) {\r\n    return this.perionService.getPerTagPerionStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allPerionStatData = response;\r\n      var allPerionStat = [];\r\n      for (var tagSub of tag.subids) {\r\n        if (tagSub.filterTag == \"Contains\") {\r\n          allPerionStat = allPerionStat.concat(this.allPerionStatData.filter(stat => stat.subid.includes(tagSub.subid)))\r\n          allPerionStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"No Publisher\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"StartsWith\") {\r\n          allPerionStat = allPerionStat.concat(this.allPerionStatData.filter(stat => stat.subid.startsWith(tagSub.subid)))\r\n          allPerionStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"No Publisher\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"EndsWith\") {\r\n          allPerionStat = allPerionStat.concat(this.allPerionStatData.filter(stat => stat.subid.endsWith(tagSub.subid)))\r\n          allPerionStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"No Publisher\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"ExactValue\") {\r\n          allPerionStat = allPerionStat.concat(this.allPerionStatData.filter(stat => stat.subid == tagSub.subid))\r\n          allPerionStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"No Publisher\"\r\n            //stat.tagname = tag.name\r\n          })\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = allPerionStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      // let filtered_data = allPerionStat.filter((obj, pos, arr) => {\r\n      //   return arr\r\n      //     .map(mapObj => mapObj._id)\r\n      //     .indexOf(obj._id) == pos;\r\n      // });\r\n      // var helper = {};\r\n      // var resultAll = filtered_data.reduce(function(prev, current) {\r\n      //   var key = (current.date).toString() + '-' + current.subid;\r\n      //   if(!helper[key]) {\r\n      //     helper[key] = Object.assign({}, current); // create a copy of o\r\n      //     prev.push(helper[key]);\r\n      //   } else {\r\n      //     helper[key].clicks += parseInt(current.clicks);\r\n      //     if(current.revenue) {\r\n      //       helper[key].revenue += current.revenue;\r\n      //     }\r\n\r\n      //     helper[key].split += parseInt(current.split);\r\n      //   }\r\n\r\n      //   return prev;\r\n      // }, []);\r\n      // return resultAll.slice().sort((a, b) => b.date - a.date);\r\n      return filter_data.slice().sort((a, b) => b.date - a.date);\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n  getAllLyonStats(startDate, endDate, tag) {\r\n    return this.lyonService.getAllPublisherStats(startDate, endDate).toPromise().then((response) => {\r\n      this.allLyonStatData = response;\r\n      var allLyonStat = [];\r\n      for (var tagSub of tag.subids) {\r\n        if (tagSub.filterTag == \"Contains\") {\r\n          allLyonStat = allLyonStat.concat(this.allLyonStatData.filter(stat => stat.subid.includes(tagSub.subid)))\r\n          allLyonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"StartsWith\") {\r\n          allLyonStat = allLyonStat.concat(this.allLyonStatData.filter(stat => stat.subid.startsWith(tagSub.subid)))\r\n          allLyonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"EndsWith\") {\r\n          allLyonStat = allLyonStat.concat(this.allLyonStatData.filter(stat => stat.subid.endsWith(tagSub.subid)))\r\n          allLyonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"ExactValue\") {\r\n          allLyonStat = allLyonStat.concat(this.allLyonStatData.filter(stat => stat.subid == tagSub.subid))\r\n          allLyonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filtered_data = allLyonStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      return filtered_data.slice().sort((a, b) => b.date - a.date);\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n\r\n  getAllVerizonStats(startDate, endDate, tag) {\r\n    return this.verizonService.getAllPublisherVerizonStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allVerizonStatData = response.stats;\r\n      var allVerizonStat = [];\r\n      for (var tagSub of tag.subids) {\r\n        if (tagSub.filterTag == \"Contains\") {\r\n          allVerizonStat = allVerizonStat.concat(this.allVerizonStatData.filter(stat => stat.subid.includes(tagSub.subid)))\r\n          allVerizonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"StartsWith\") {\r\n          allVerizonStat = allVerizonStat.concat(this.allVerizonStatData.filter(stat => stat.subid.startsWith(tagSub.subid)))\r\n          allVerizonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"EndsWith\") {\r\n          allVerizonStat = allVerizonStat.concat(this.allVerizonStatData.filter(stat => stat.subid.endsWith(tagSub.subid)))\r\n          allVerizonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"ExactValue\") {\r\n          allVerizonStat = allVerizonStat.concat(this.allVerizonStatData.filter(stat => stat.subid == tagSub.subid))\r\n          allVerizonStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            stat.tagname = tag.name\r\n          })\r\n        }\r\n      }\r\n      //duplicated remove\r\n      let filtered_data = allVerizonStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n\r\n      // var helper = {};\r\n      // filtered_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      // })\r\n\r\n\r\n      return filtered_data.slice().sort((a, b) => b.date - a.date);\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n  getVerizonChartMetrics(company, startDate, endDate) {\r\n    return this.verizonService.getAllPublisherVerizonStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allVerizonChart = response.stats;\r\n      var chartAllVerizonStat = [];\r\n      for (var tagSub of this.tagRows.subids) {\r\n        if (tagSub['filterTag'] == \"Contains\") {\r\n          chartAllVerizonStat = chartAllVerizonStat.concat(this.allVerizonChart.filter(stat => stat.subid.includes(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"StartsWith\") {\r\n          chartAllVerizonStat = chartAllVerizonStat.concat(this.allVerizonChart.filter(stat => stat.subid.startsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"EndsWith\") {\r\n          chartAllVerizonStat = chartAllVerizonStat.concat(this.allVerizonChart.filter(stat => stat.subid.endsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"ExactValue\") {\r\n          chartAllVerizonStat = chartAllVerizonStat.concat(this.allVerizonChart.filter(stat => stat.subid == tagSub['subid']))\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = chartAllVerizonStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      // filter_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      // })\r\n      filter_data = filter_data.slice().sort((a, b) => a.date - b.date);\r\n\r\n      var helperChart = {};\r\n      var resultChart = filter_data.reduce(function (r, o) {\r\n        var key = o.date;\r\n        if (!helperChart[key]) {\r\n          helperChart[key] = Object.assign({}, o); // create a copy of o\r\n          r.push(helperChart[key]);\r\n        } else {\r\n          helperChart[key].searches += parseInt(o.searches);\r\n          if (o.revenue) {\r\n            helperChart[key].revenue += o.revenue;\r\n          }\r\n        }\r\n        return r;\r\n      }, []);\r\n\r\n      var revenuePerDayVal = [];\r\n      var publisherRevenuePerDayVal = [];\r\n      var datesOfRevenueVal = [];\r\n      var searchesPerDayVal = [];\r\n      var chartDataValue = {};\r\n      for (var resVal of resultChart) {\r\n        revenuePerDayVal.push(0);\r\n        publisherRevenuePerDayVal.push(resVal.revenue);\r\n        datesOfRevenueVal.push(resVal.date);\r\n        searchesPerDayVal.push(resVal.searches);\r\n      }\r\n      chartDataValue['revenuePerDay'] = revenuePerDayVal;\r\n      chartDataValue['publisherRevenuePerDay'] = publisherRevenuePerDayVal;\r\n      chartDataValue['datesOfRevenue'] = datesOfRevenueVal;\r\n      chartDataValue['searchesPerDay'] = searchesPerDayVal;\r\n      return chartDataValue;\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n\r\n  }\r\n  getRubiAllStats(startDate, endDate, tag) {\r\n    return this.rubiService.getAllRubiStats(this.selectedCompany, startDate, endDate).toPromise().then((res) => {\r\n      this.allRubiStatData = res.stats;\r\n      var allRubiStat = [];\r\n      for (var tagSub of tag.subids) {\r\n        if (tagSub.filterTag == \"Contains\") {\r\n          allRubiStat = allRubiStat.concat(this.allRubiStatData.filter(stat => stat.subid.includes(tagSub.subid)))\r\n          allRubiStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"StartsWith\") {\r\n          allRubiStat = allRubiStat.concat(this.allRubiStatData.filter(stat => stat.subid.startsWith(tagSub.subid)))\r\n          allRubiStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"EndsWith\") {\r\n          allRubiStat = allRubiStat.concat(this.allRubiStatData.filter(stat => stat.subid.endsWith(tagSub.subid)))\r\n          allRubiStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"ExactValue\") {\r\n          allRubiStat = allRubiStat.concat(this.allRubiStatData.filter(stat => stat.subid == tagSub.subid))\r\n          allRubiStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        }\r\n      }\r\n      //duplicated remove\r\n      let filtered_data = allRubiStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n\r\n      // // var helper = {};\r\n      // filtered_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      //   f.cpc = parseFloat(f.revenue)/parseFloat(f.clicks);\r\n      // })\r\n\r\n\r\n      return filtered_data.slice().sort((a, b) => b.date - a.date);\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n  getRubiChartMetrics(company, startDate, endDate) {\r\n    return this.rubiService.getAllRubiStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allRubiChart = response.stats;\r\n      var chartAllRubiStat = [];\r\n      for (var tagSub of this.tagRows.subids) {\r\n        if (tagSub['filterTag'] == \"Contains\") {\r\n          chartAllRubiStat = chartAllRubiStat.concat(this.allRubiChart.filter(stat => stat.subid.includes(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"StartsWith\") {\r\n          chartAllRubiStat = chartAllRubiStat.concat(this.allRubiChart.filter(stat => stat.subid.startsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"EndsWith\") {\r\n          chartAllRubiStat = chartAllRubiStat.concat(this.allRubiChart.filter(stat => stat.subid.endsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"ExactValue\") {\r\n          chartAllRubiStat = chartAllRubiStat.concat(this.allRubiChart.filter(stat => stat.subid == tagSub['subid']))\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = chartAllRubiStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      // filter_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      // })\r\n      filter_data = filter_data.slice().sort((a, b) => a.date - b.date);\r\n\r\n      var helperChart = {};\r\n      var resultChart = filter_data.reduce(function (r, o) {\r\n        var key = o.date;\r\n        if (!helperChart[key]) {\r\n          helperChart[key] = Object.assign({}, o); // create a copy of o\r\n          r.push(helperChart[key]);\r\n        } else {\r\n          helperChart[key].searches += parseInt(o.searches);\r\n          if (o.revenue) {\r\n            helperChart[key].revenue += o.revenue;\r\n          }\r\n        }\r\n        return r;\r\n      }, []);\r\n\r\n      var revenuePerDayVal = [];\r\n      var publisherRevenuePerDayVal = [];\r\n      var datesOfRevenueVal = [];\r\n      var searchesPerDayVal = [];\r\n      var chartDataValue = {};\r\n      for (var resVal of resultChart) {\r\n        revenuePerDayVal.push(0);\r\n        publisherRevenuePerDayVal.push(resVal.revenue);\r\n        datesOfRevenueVal.push(resVal.date);\r\n        searchesPerDayVal.push(resVal.searches);\r\n      }\r\n      chartDataValue['revenuePerDay'] = revenuePerDayVal;\r\n      chartDataValue['publisherRevenuePerDay'] = publisherRevenuePerDayVal;\r\n      chartDataValue['datesOfRevenue'] = datesOfRevenueVal;\r\n      chartDataValue['searchesPerDay'] = searchesPerDayVal;\r\n      return chartDataValue;\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n\r\n  }\r\n  getSolexBCAllStats(startDate, endDate, tag) {\r\n    return this.solexbcService.getAllSolexBCStats(this.selectedCompany, startDate, endDate).toPromise().then((res) => {\r\n      this.allSolexBCStatData = res.stats;\r\n      var allSolexBCStat = [];\r\n      for (var tagSub of tag.subids) {\r\n        if (tagSub.filterTag == \"Contains\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid.includes(tagSub.subid)))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"StartsWith\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid.startsWith(tagSub.subid)))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"EndsWith\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid.endsWith(tagSub.subid)))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"ExactValue\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid == tagSub.subid))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        }\r\n      }\r\n      //duplicated remove\r\n      let filtered_data = allSolexBCStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n\r\n      // // var helper = {};\r\n      // filtered_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      //   f.cpc = parseFloat(f.revenue)/parseFloat(f.clicks);\r\n      // })\r\n\r\n\r\n      return filtered_data.slice().sort((a, b) => b.date - a.date);\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n  getSolexBCChartMetrics(company, startDate, endDate) {\r\n    return this.solexbcService.getAllSolexBCStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allSolexBCChart = response.stats;\r\n      var chartAllSolexbcStat = [];\r\n      for (var tagSub of this.tagRows.subids) {\r\n        if (tagSub['filterTag'] == \"Contains\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid.includes(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"StartsWith\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid.startsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"EndsWith\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid.endsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"ExactValue\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid == tagSub['subid']))\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = chartAllSolexbcStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      // filter_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      // })\r\n      filter_data = filter_data.slice().sort((a, b) => a.date - b.date);\r\n\r\n      var helperChart = {};\r\n      var resultChart = filter_data.reduce(function (r, o) {\r\n        var key = o.date;\r\n        if (!helperChart[key]) {\r\n          helperChart[key] = Object.assign({}, o); // create a copy of o\r\n          r.push(helperChart[key]);\r\n        } else {\r\n          helperChart[key].searches += parseInt(o.searches);\r\n          if (o.revenue) {\r\n            helperChart[key].revenue += o.revenue;\r\n          }\r\n        }\r\n        return r;\r\n      }, []);\r\n\r\n      var revenuePerDayVal = [];\r\n      var publisherRevenuePerDayVal = [];\r\n      var datesOfRevenueVal = [];\r\n      var searchesPerDayVal = [];\r\n      var chartDataValue = {};\r\n      for (var resVal of resultChart) {\r\n        revenuePerDayVal.push(0);\r\n        publisherRevenuePerDayVal.push(resVal.revenue);\r\n        datesOfRevenueVal.push(resVal.date);\r\n        searchesPerDayVal.push(resVal.searches);\r\n      }\r\n      chartDataValue['revenuePerDay'] = revenuePerDayVal;\r\n      chartDataValue['publisherRevenuePerDay'] = publisherRevenuePerDayVal;\r\n      chartDataValue['datesOfRevenue'] = datesOfRevenueVal;\r\n      chartDataValue['searchesPerDay'] = searchesPerDayVal;\r\n      return chartDataValue;\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n\r\n  }\r\n\r\n  getSystem1AllStats(startDate, endDate, tag) {\r\n    return this.system1Service.getSystem1PublisherStats(this.selectedCompany, startDate, endDate).toPromise().then((res) => {\r\n      this.allSolexBCStatData = res.stats;\r\n      var allSolexBCStat = [];\r\n      for (var tagSub of tag.subids) {\r\n        if (tagSub.filterTag == \"Contains\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid.includes(tagSub.subid)))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"StartsWith\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid.startsWith(tagSub.subid)))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"EndsWith\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid.endsWith(tagSub.subid)))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"ExactValue\") {\r\n          allSolexBCStat = allSolexBCStat.concat(this.allSolexBCStatData.filter(stat => stat.subid == tagSub.subid))\r\n          allSolexBCStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        }\r\n      }\r\n      //duplicated remove\r\n      let filtered_data = allSolexBCStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n\r\n      // // var helper = {};\r\n      // filtered_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      //   f.cpc = parseFloat(f.revenue)/parseFloat(f.clicks);\r\n      // })\r\n\r\n\r\n      return filtered_data.slice().sort((a, b) => b.date - a.date);\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n  getSystem1ChartMetrics(company, startDate, endDate) {\r\n    return this.system1Service.getSystem1PublisherStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allSolexBCChart = response.stats;\r\n      var chartAllSolexbcStat = [];\r\n      for (var tagSub of this.tagRows.subids) {\r\n        if (tagSub['filterTag'] == \"Contains\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid.includes(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"StartsWith\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid.startsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"EndsWith\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid.endsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"ExactValue\") {\r\n          chartAllSolexbcStat = chartAllSolexbcStat.concat(this.allSolexBCChart.filter(stat => stat.subid == tagSub['subid']))\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = chartAllSolexbcStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      // filter_data.map(f =>{\r\n      //   f.revenue = parseFloat(f.revenue) * parseFloat(f.split)/100;\r\n      // })\r\n      filter_data = filter_data.slice().sort((a, b) => a.date - b.date);\r\n\r\n      var helperChart = {};\r\n      var resultChart = filter_data.reduce(function (r, o) {\r\n        var key = o.date;\r\n        if (!helperChart[key]) {\r\n          helperChart[key] = Object.assign({}, o); // create a copy of o\r\n          r.push(helperChart[key]);\r\n        } else {\r\n          helperChart[key].searches += parseInt(o.searches);\r\n          if (o.revenue) {\r\n            helperChart[key].revenue += o.revenue;\r\n          }\r\n        }\r\n        return r;\r\n      }, []);\r\n\r\n      var revenuePerDayVal = [];\r\n      var publisherRevenuePerDayVal = [];\r\n      var datesOfRevenueVal = [];\r\n      var searchesPerDayVal = [];\r\n      var chartDataValue = {};\r\n      for (var resVal of resultChart) {\r\n        revenuePerDayVal.push(0);\r\n        publisherRevenuePerDayVal.push(resVal.revenue);\r\n        datesOfRevenueVal.push(resVal.date);\r\n        searchesPerDayVal.push(resVal.searches);\r\n      }\r\n      chartDataValue['revenuePerDay'] = revenuePerDayVal;\r\n      chartDataValue['publisherRevenuePerDay'] = publisherRevenuePerDayVal;\r\n      chartDataValue['datesOfRevenue'] = datesOfRevenueVal;\r\n      chartDataValue['searchesPerDay'] = searchesPerDayVal;\r\n      return chartDataValue;\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n\r\n  }\r\n\r\n  getApptitudePublisherStats(startDate, endDate, tag) {\r\n    return this.apptitudeService.getPublisherApptitudeStats(this.selectedCompany, startDate, endDate).toPromise().then((res) => {\r\n      this.allApptitudeStatData = res.stats;\r\n      var allApptitudeStat = [];\r\n      for (var tagSub of tag.subids) {\r\n        if (tagSub.filterTag == \"Contains\") {\r\n          allApptitudeStat = allApptitudeStat.concat(this.allApptitudeStatData.filter(stat => stat.subid.includes(tagSub.subid)))\r\n          allApptitudeStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"StartsWith\") {\r\n          allApptitudeStat = allApptitudeStat.concat(this.allApptitudeStatData.filter(stat => stat.subid.startsWith(tagSub.subid)))\r\n          allApptitudeStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"EndsWith\") {\r\n          allApptitudeStat = allApptitudeStat.concat(this.allApptitudeStatData.filter(stat => stat.subid.endsWith(tagSub.subid)))\r\n          allApptitudeStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        } else if (tagSub.filterTag == \"ExactValue\") {\r\n          allApptitudeStat = allApptitudeStat.concat(this.allApptitudeStatData.filter(stat => stat.subid == tagSub.subid))\r\n          allApptitudeStat.map(stat => {\r\n            stat.publisher = tag.publisher ? tag.publisher.fullname : \"\"\r\n            // stat.tagname = tag.name\r\n          })\r\n        }\r\n      }\r\n      //duplicated remove\r\n      let filtered_data = allApptitudeStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n\r\n      return filtered_data.slice().sort((a, b) => b.date - a.date);\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n  }\r\n  getApptitudeChartMetrics(company, startDate, endDate) {\r\n    return this.apptitudeService.getPublisherApptitudeStats(this.selectedCompany, startDate, endDate).toPromise().then((response) => {\r\n      this.allApptitudeChart = response.stats;\r\n      var chatAllApptitudeStat = [];\r\n      for (var tagSub of this.tagRows.subids) {\r\n        if (tagSub['filterTag'] == \"Contains\") {\r\n          chatAllApptitudeStat = chatAllApptitudeStat.concat(this.allApptitudeChart.filter(stat => stat.subid.includes(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"StartsWith\") {\r\n          chatAllApptitudeStat = chatAllApptitudeStat.concat(this.allApptitudeChart.filter(stat => stat.subid.startsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"EndsWith\") {\r\n          chatAllApptitudeStat = chatAllApptitudeStat.concat(this.allApptitudeChart.filter(stat => stat.subid.endsWith(tagSub['subid'])))\r\n        } else if (tagSub['filterTag'] == \"ExactValue\") {\r\n          chatAllApptitudeStat = chatAllApptitudeStat.concat(this.allApptitudeChart.filter(stat => stat.subid == tagSub['subid']))\r\n        }\r\n      }\r\n\r\n      //duplicated remove\r\n      let filter_data = chatAllApptitudeStat.filter((thing, index, self) =>\r\n        index === self.findIndex((t) => (\r\n          t.date === thing.date && t.subid === thing.subid\r\n        ))\r\n      )\r\n      filter_data = filter_data.slice().sort((a, b) => a.date - b.date);\r\n\r\n      var helperChart = {};\r\n      var resultChart = filter_data.reduce(function (r, o) {\r\n        var key = o.date;\r\n        if (!helperChart[key]) {\r\n          helperChart[key] = Object.assign({}, o); // create a copy of o\r\n          r.push(helperChart[key]);\r\n        } else {\r\n          helperChart[key].searches += parseInt(o.searches);\r\n          if (o.revenue) {\r\n            helperChart[key].revenue += o.revenue;\r\n          }\r\n        }\r\n        return r;\r\n      }, []);\r\n\r\n      var revenuePerDayVal = [];\r\n      var publisherRevenuePerDayVal = [];\r\n      var datesOfRevenueVal = [];\r\n      var searchesPerDayVal = [];\r\n      var chartDataValue = {};\r\n      for (var resVal of resultChart) {\r\n        revenuePerDayVal.push(0);\r\n        publisherRevenuePerDayVal.push(resVal.revenue);\r\n        datesOfRevenueVal.push(resVal.date);\r\n        searchesPerDayVal.push(resVal.searches);\r\n      }\r\n      chartDataValue['revenuePerDay'] = revenuePerDayVal;\r\n      chartDataValue['publisherRevenuePerDay'] = publisherRevenuePerDayVal;\r\n      chartDataValue['datesOfRevenue'] = datesOfRevenueVal;\r\n      chartDataValue['searchesPerDay'] = searchesPerDayVal;\r\n      return chartDataValue;\r\n    })\r\n      .catch((error) => {\r\n        return error;\r\n      });\r\n\r\n  }\r\n}\r\n","<app-reporting-filtering (onDatesPicked)=\"updateReportingFiltering($event)\"></app-reporting-filtering>\r\n<!-- Chart Part-->\r\n<app-reporting-publisher-revenue-chart *ngIf=\"chartData\" [chartData]=\"chartData\"></app-reporting-publisher-revenue-chart>\r\n\r\n<div class=\"row py-6\">\r\n  <button class=\"btn btn-sm btn-primary mx-3\"\r\n    (click)=\"exportToCsv()\"\r\n  >\r\n    Export Stats\r\n  </button>\r\n</div>\r\n\r\n<ngx-datatable #expandableTable class=\"material fullscreen expandable\" style=\"top: 10px; height: 500px\" [loadingIndicator]=\"loadingIndicator\"\r\n  [columnMode]=\"'force'\" [headerHeight]=\"50\" [footerHeight]=\"0\" [rowHeight]=\"50\" [scrollbarV]=\"true\" [scrollbarH]=\"true\"\r\n  [rows]=\"statData\">\r\n  <!-- Row Detail Template -->\r\n  <ngx-datatable-row-detail [rowHeight]=\"100\" #myDetailRow (toggle)=\"onDetailToggle($event)\">\r\n    <ng-template let-row=\"row\" let-expanded=\"expanded\" ngx-datatable-row-detail-template>\r\n      <div style=\"padding-left: 35px\">\r\n        <div><strong>Address</strong></div>\r\n        <div>Test</div>\r\n      </div>\r\n    </ng-template>\r\n  </ngx-datatable-row-detail>\r\n\r\n  <!-- Column Templates -->\r\n  <ngx-datatable-column [width]=\"50\" [resizeable]=\"false\" [sortable]=\"false\" [draggable]=\"false\"\r\n    [canAutoResize]=\"false\">\r\n    <ng-template let-row=\"row\" let-expanded=\"expanded\" ngx-datatable-cell-template>\r\n      <a href=\"javascript:void(0)\" [class.datatable-icon-right]=\"!expanded\" [class.datatable-icon-down]=\"expanded\"\r\n        title=\"Expand/Collapse Row\" (click)=\"toggleExpandRow(row)\">\r\n      </a>\r\n    </ng-template>\r\n  </ngx-datatable-column>\r\n\r\n  <!-- Date -->\r\n  <ngx-datatable-column name=\"date\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      Date\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ value | date }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column>\r\n\r\n  <!-- SUBID -->\r\n  <!-- <ngx-datatable-column name=\"subid\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      Subid\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ value }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column> -->\r\n\r\n  <!-- Tag -->\r\n  <!-- <ngx-datatable-column name=\"tagname\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      Tag\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ value }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column> -->\r\n\r\n  <!-- Publisher -->\r\n  <!-- <ngx-datatable-column name=\"publisher\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      Publisher\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ value }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column> -->\r\n\r\n  <!-- Searches -->\r\n  <ngx-datatable-column name=\"searches\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      Searches\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ value }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column>\r\n\r\n  <!-- CPC -->\r\n  <ngx-datatable-column name=\"cpc\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      CPC\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ (value | currency: 'USD') || (0 | currency: 'USD') }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column>\r\n\r\n  <!-- CTR -->\r\n  <ngx-datatable-column name=\"ctr\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      CTR\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ (value | percent:'1.2-2') || (0 | percent:'1.2-2') }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column>\r\n\r\n  <!-- REVENUE -->\r\n  <ngx-datatable-column name=\"revenue\">\r\n    <ng-template let-column=\"column\" ngx-datatable-header-template>\r\n      Revenue\r\n    </ng-template>\r\n    <ng-template let-value=\"value\" ngx-datatable-cell-template>\r\n      <strong>{{ value | currency: 'USD' }}</strong>\r\n    </ng-template>\r\n  </ngx-datatable-column>\r\n</ngx-datatable>"],"sourceRoot":"webpack:///"}