!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{UEss:function(t,r,n){"use strict";n.r(r),n.d(r,"DynamicAPIModule",(function(){return Pe}));var a,o=n("ofXK"),c=n("tyNb"),d=n("fXoL"),l=n("oabR"),s=n("soTd"),b=n("Dvla"),m=n("AytR"),u=n("tk/3"),p=m.a.apiUrl+"/dynamicAPI",f=((a=function(){function t(i){e(this,t),this.http=i}return i(t,[{key:"createDynamicAPI",value:function(e){return this.http.post(p+"/create",e)}},{key:"getDynamicAPIs",value:function(){return this.http.get(p+"/all-dynamicApis")}},{key:"getOneDynamicAPI",value:function(e){return this.http.get(p+"/get-dynamicApi/"+e)}},{key:"updateDynamicAPI",value:function(e){return this.http.put("".concat(p,"/update/").concat(e._key),e)}},{key:"deleteDynamicAPI",value:function(e){return this.http.delete(p+"/delete/"+e)}}]),t}()).\u0275fac=function(e){return new(e||a)(d.ec(u.c))},a.\u0275prov=d.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),h=n("lDzL"),g=n("e8Ap");function v(e,t){1&e&&d.Oc(0," API Name ")}function y(e,t){1&e&&d.Oc(0),2&e&&d.Qc(" ",t.value," ")}function V(e,t){1&e&&d.Oc(0," Advertiser Provider ")}function D(e,t){1&e&&d.Oc(0),2&e&&d.Qc(" ",t.value," ")}function W(e,t){1&e&&d.Oc(0," DynamicAPIUri ")}function I(e,t){1&e&&d.Oc(0),2&e&&d.Qc(" ",t.value," ")}function A(e,t){1&e&&d.Oc(0," Start Date ")}function P(e,t){1&e&&d.Oc(0),2&e&&d.Qc(" ",t.value," ")}function w(e,t){1&e&&d.Oc(0," End Date ")}function F(e,t){1&e&&d.Oc(0),2&e&&d.Qc(" ",t.value," ")}function k(e,t){1&e&&d.Oc(0,"Action")}function O(e,t){if(1&e){var i=d.Xb();d.Wb(0,"a",21),d.hc("click",(function(){d.Dc(i);var e=t.row;return d.lc(2).editDynamicAPI(e._key)})),d.Rb(1,"span",22),d.Vb(),d.Wb(2,"a",23),d.hc("click",(function(){d.Dc(i);var e=t.row;return d.lc(2).deleteDynamicAPI(e._key)})),d.Rb(3,"span",24),d.Vb(),d.Wb(4,"a",25),d.hc("click",(function(){d.Dc(i);var e=t.row;return d.lc(2).copyToDynamicAPIClipboard(e)})),d.Rb(5,"span",26),d.Vb()}if(2&e){var r=t.row;d.Db(1),d.rc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),d.Db(2),d.rc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"),d.Db(2),d.rc("inlineSVG",r.copy?"./assets/media/svg/icons/General/copied.svg":"./assets/media/svg/icons/General/Clipboard.svg")}}function C(e,t){if(1&e){var i=d.Xb();d.Wb(0,"div",2),d.Wb(1,"div",3),d.Wb(2,"div",4),d.Wb(3,"div",5),d.Wb(4,"div",6),d.Wb(5,"h3",7),d.Oc(6,"Dynamic API"),d.Vb(),d.Vb(),d.Vb(),d.Wb(7,"div",8),d.Wb(8,"div",9),d.Wb(9,"div",10),d.Wb(10,"button",11),d.hc("click",(function(){return d.Dc(i),d.lc().handleAddDynamicAPI()})),d.Oc(11," Create "),d.Vb(),d.Vb(),d.Vb(),d.Wb(12,"ngx-datatable",12),d.Wb(13,"ngx-datatable-column",13),d.Mc(14,v,1,0,"ng-template",14),d.Mc(15,y,1,1,"ng-template",15),d.Vb(),d.Wb(16,"ngx-datatable-column",16),d.Mc(17,V,1,0,"ng-template",14),d.Mc(18,D,1,1,"ng-template",15),d.Vb(),d.Wb(19,"ngx-datatable-column",17),d.Mc(20,W,1,0,"ng-template",14),d.Mc(21,I,1,1,"ng-template",15),d.Vb(),d.Wb(22,"ngx-datatable-column",18),d.Mc(23,A,1,0,"ng-template",14),d.Mc(24,P,1,1,"ng-template",15),d.Vb(),d.Wb(25,"ngx-datatable-column",19),d.Mc(26,w,1,0,"ng-template",14),d.Mc(27,F,1,1,"ng-template",15),d.Vb(),d.Wb(28,"ngx-datatable-column",20),d.Mc(29,k,1,0,"ng-template",14),d.Mc(30,O,6,3,"ng-template",15),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){var r=d.lc();d.Db(12),d.rc("rows",r.rows)("columnMode","force")("loadingIndicator",r.loadingIndicator)("footerHeight",50)("rowHeight",50)("scrollbarH",!0)("headerHeight",50)("limit",10),d.Db(1),d.rc("width",50),d.Db(3),d.rc("width",50),d.Db(3),d.rc("width",150),d.Db(3),d.rc("width",50),d.Db(3),d.rc("width",50),d.Db(3),d.rc("width",100)}}function S(e,t){1&e&&(d.Wb(0,"div",27),d.Wb(1,"div",28),d.Wb(2,"p",29),d.Oc(3," How did you get here "),d.Vb(),d.Wb(4,"p",30),d.Oc(5," Sorry you can't access the page you're looking for. "),d.Vb(),d.Wb(6,"p",31),d.Oc(7," There may be a misspelling in the URL entered,"),d.Rb(8,"br"),d.Oc(9,"or the page you are looking for may no longer exist. "),d.Vb(),d.Vb(),d.Vb())}var G,x=((G=function(){function t(i,r,n,a,o,c){e(this,t),this.cdr=i,this.router=r,this.userService=n,this.notification=a,this.clipboardService=o,this.dynamicAPIService=c,this.loadingIndicator=!0,this.hidden=!1}return i(t,[{key:"ngOnInit",value:function(){this.localStorageCompany=this.getSelectedCompanyFromLocalStorage(),this.localStorageCompany?this.hidden=!1:(this.hidden=!0,this.notification.showError("Please select your Company!","")),this.getDynamicApis()}},{key:"getDynamicApis",value:function(){var e=this;this.dynamicAPIService.getDynamicAPIs().subscribe((function(t){e.rows=t,e.loadingIndicator=!1,e.cdr.detectChanges()}),(function(t){e.notification.showError(t.error,"")}))}},{key:"handleAddDynamicAPI",value:function(){this.router.navigateByUrl("/dynamicAPI/create")}},{key:"getSelectedCompanyFromLocalStorage",value:function(){return this.userService.getSelectedCompanyFromLocalStorage()}},{key:"editDynamicAPI",value:function(e){this.router.navigateByUrl("/dynamicAPI/edit/"+e)}},{key:"deleteDynamicAPI",value:function(e){var t=this;window.confirm("Do you want to go ahead?")&&this.dynamicAPIService.deleteDynamicAPI(e).subscribe((function(e){t.getDynamicApis(),t.notification.showSuccess("Successfully deleted Dynamic Api.","")}),(function(e){console.log(e),t.notification.showError("Error deleting deleteDynamicAPI: "+e,"")}))}},{key:"copyToDynamicAPIClipboard",value:function(e){var t=this,i=e.urlKey;e.copy=!0,this.clipboardService.copyFromContent("http://api.nextsys.io/api/dynamicAPI/uri/".concat(i,"?startDate=").concat(e.startDate,"&endDate=").concat(e.endDate)),setTimeout((function(){e.copy=!1,t.cdr.detectChanges()}),3e3)}}]),t}()).\u0275fac=function(e){return new(e||G)(d.Qb(d.i),d.Qb(c.h),d.Qb(l.a),d.Qb(s.a),d.Qb(b.b),d.Qb(f))},G.\u0275cmp=d.Kb({type:G,selectors:[["app-all-dynamic-api"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","error error-3 d-flex flex-row-fluid bgi-size-cover bgi-position-center","style","background-image: url('./assets/media/error/bg3.jpg'); height: 100%;zoom: 1;\n    display: block;\n    min-height: 80vh;\n    font-size: 14px;\n    line-height: 1.4;\n    color: #0e1724;",4,"ngIf"],[1,"row"],[1,"col-xl-12"],[1,"card","card-custom","example","example-compact","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-12"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"material","fullscreen",3,"rows","columnMode","loadingIndicator","footerHeight","rowHeight","scrollbarH","headerHeight","limit"],["name","apiName",3,"width"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["name","advertiserProvider",3,"width"],["name","dynamicApiUri",3,"width"],["name","startDate",3,"width"],["name","endDate",3,"width"],["name","id",3,"width"],["title","Edit Sheet",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-2",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Delete Sheet",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-2",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],["title","COPY Dynamic API",1,"btn","btn-icon","btn-light","btn-hover-info","btn-sm","mx-2",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-info",3,"inlineSVG"],[1,"error","error-3","d-flex","flex-row-fluid","bgi-size-cover","bgi-position-center",2,"background-image","url('./assets/media/error/bg3.jpg')","height","100%","zoom","1","display","block","min-height","80vh","font-size","14px","line-height","1.4","color","#0e1724"],[1,"px-10","px-md-30","py-10","py-md-0","d-flex","flex-column","justify-content-md-center"],[1,"display-4","font-weight-boldest","text-white","mb-12"],[1,"font-size-h1","font-weight-boldest","text-dark-75"],[1,"font-size-h4","line-height-md"]],template:function(e,t){1&e&&(d.Mc(0,C,31,14,"div",0),d.Mc(1,S,10,0,"div",1)),2&e&&(d.rc("ngIf",!t.hidden),d.Db(1),d.rc("ngIf",t.hidden))},directives:[o.p,h.d,h.b,h.c,h.a,g.a],styles:[""]}),G),R=n("3Pt+"),N=n("kmnG"),E=n("qFsG"),q=n("d3UM"),M=n("FKr1"),z=n("iadO"),U=n("bTqV");function Q(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"API Name is required. "),d.Vb())}function j(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"Advertiser Provider is required. "),d.Vb())}function T(e,t){1&e&&(d.Wb(0,"span"),d.Oc(1,"DynamicAPIURI is required."),d.Vb())}function L(e,t){1&e&&(d.Wb(0,"span"),d.Oc(1,"Invalid URL format."),d.Vb())}function H(e,t){if(1&e&&(d.Wb(0,"mat-error"),d.Mc(1,T,2,0,"span",14),d.Mc(2,L,2,0,"span",14),d.Vb()),2&e){var i=d.lc(2);d.Db(1),d.rc("ngIf",null==i.dynamicAPIFG.get("dynamicApiUri").errors?null:i.dynamicAPIFG.get("dynamicApiUri").errors.required),d.Db(1),d.rc("ngIf",null==i.dynamicAPIFG.get("dynamicApiUri").errors?null:i.dynamicAPIFG.get("dynamicApiUri").errors.pattern)}}function K(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1," Original API is required. "),d.Vb())}function X(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1," Return API is required. "),d.Vb())}function J(e,t){if(1&e){var i=d.Xb();d.Wb(0,"div",40),d.Wb(1,"div",41),d.Wb(2,"mat-form-field"),d.Rb(3,"input",42),d.Mc(4,K,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(5,"div",41),d.Wb(6,"mat-form-field"),d.Rb(7,"input",43),d.Mc(8,X,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(9,"div",44),d.Wb(10,"a",45),d.hc("click",(function(){d.Dc(i);var e=t.index;return d.lc(2).removeResponseField(e)})),d.Rb(11,"span",46),d.Vb(),d.Vb(),d.Vb()}if(2&e){var r=t.$implicit;d.rc("formGroupName",t.index),d.Db(4),d.rc("ngIf",null==r.get("originalApi").errors?null:r.get("originalApi").errors.required),d.Db(4),d.rc("ngIf",null==r.get("returnApi").errors?null:r.get("returnApi").errors.required),d.Db(3),d.rc("inlineSVG","./assets/media/svg/icons/General/Trash.svg")}}function $(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"Start Date is required"),d.Vb())}function B(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"End Date is required"),d.Vb())}function _(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"End Date must be greater than Start Date"),d.Vb())}function Y(e,t){if(1&e){var i=d.Xb();d.Wb(0,"form",2),d.hc("submit",(function(){return d.Dc(i),d.lc().submitHandle()})),d.Wb(1,"div",3),d.Wb(2,"div",4),d.Wb(3,"div",3),d.Wb(4,"div",5),d.Wb(5,"div",6),d.Wb(6,"div",7),d.Wb(7,"div",8),d.Wb(8,"h3",9),d.Oc(9,"Create Dynamic API"),d.Vb(),d.Vb(),d.Vb(),d.Wb(10,"div",10),d.Oc(11),d.mc(12,"json"),d.Wb(13,"div",11),d.Wb(14,"div",12),d.Wb(15,"mat-form-field"),d.Rb(16,"input",13),d.Mc(17,Q,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(18,"div",12),d.Wb(19,"mat-form-field"),d.Rb(20,"input",15),d.Mc(21,j,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Vb(),d.Wb(22,"div",11),d.Wb(23,"div",5),d.Wb(24,"mat-form-field"),d.Rb(25,"input",16),d.Mc(26,H,3,2,"mat-error",14),d.Vb(),d.Vb(),d.Vb(),d.Wb(27,"div",11),d.Wb(28,"div",17),d.Wb(29,"button",18),d.hc("click",(function(e){return d.Dc(i),d.lc().addResponse(e)})),d.Oc(30," Add Response Fields "),d.Vb(),d.Vb(),d.Vb(),d.Wb(31,"div",19),d.Mc(32,J,12,4,"div",20),d.Vb(),d.Wb(33,"div",21),d.Wb(34,"div",22),d.Wb(35,"mat-form-field"),d.Wb(36,"mat-label"),d.Oc(37,"Filtered Condition"),d.Vb(),d.Wb(38,"mat-select",23),d.hc("selectionChange",(function(e){return d.Dc(i),d.lc().onFilteredConditionChange(e)})),d.Wb(39,"mat-option",24),d.Oc(40,"StartsWith"),d.Vb(),d.Wb(41,"mat-option",25),d.Oc(42,"EndsWith"),d.Vb(),d.Wb(43,"mat-option",26),d.Oc(44,"Contains"),d.Vb(),d.Wb(45,"mat-option",27),d.Oc(46,"Equal"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(47,"div",22),d.Wb(48,"mat-form-field"),d.Rb(49,"input",28),d.Vb(),d.Vb(),d.Wb(50,"div",22),d.Wb(51,"mat-form-field"),d.Rb(52,"input",29),d.Vb(),d.Vb(),d.Vb(),d.Wb(53,"div",21),d.Wb(54,"div",12),d.Wb(55,"mat-form-field"),d.Rb(56,"input",30),d.Rb(57,"mat-datepicker-toggle",31),d.Rb(58,"mat-datepicker",null,32),d.Mc(60,$,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(61,"div",12),d.Wb(62,"mat-form-field"),d.Rb(63,"input",33),d.Rb(64,"mat-datepicker-toggle",31),d.Rb(65,"mat-datepicker",null,34),d.Mc(67,B,2,0,"mat-error",14),d.Mc(68,_,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Vb(),d.Wb(69,"div",21),d.Wb(70,"div",12),d.Wb(71,"mat-form-field"),d.Wb(72,"mat-label"),d.Oc(73,"Report Format"),d.Vb(),d.Wb(74,"mat-select",35),d.Wb(75,"mat-option",36),d.Oc(76,"JSON"),d.Vb(),d.Wb(77,"mat-option",37),d.Oc(78,"CSV"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(79,"div",38),d.Wb(80,"div",5),d.Wb(81,"button",39),d.Oc(82,"Save"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){var r=d.Ac(59),n=d.Ac(66),a=d.lc();d.rc("formGroup",a.dynamicAPIFG),d.Db(11),d.Qc(" ",d.nc(12,13,a.dynamicAPIFG.value)," "),d.Db(6),d.rc("ngIf",null==a.dynamicAPIFG.get("apiName").errors?null:a.dynamicAPIFG.get("apiName").errors.required),d.Db(4),d.rc("ngIf",null==a.dynamicAPIFG.get("advertiserProvider").errors?null:a.dynamicAPIFG.get("advertiserProvider").errors.required),d.Db(5),d.rc("ngIf",a.dynamicAPIFG.get("dynamicApiUri").invalid&&(a.dynamicAPIFG.get("dynamicApiUri").dirty||a.dynamicAPIFG.get("dynamicApiUri").touched)),d.Db(6),d.rc("ngForOf",a.responseFields.controls),d.Db(24),d.rc("matDatepicker",r),d.Db(1),d.rc("for",r),d.Db(3),d.rc("ngIf",a.startDateControl.hasError("required")),d.Db(3),d.rc("matDatepicker",n),d.Db(1),d.rc("for",n),d.Db(3),d.rc("ngIf",a.endDateControl.hasError("required")),d.Db(1),d.rc("ngIf",a.endDateControl.hasError("invalidRange"))}}function Z(e,t){1&e&&(d.Wb(0,"div",47),d.Wb(1,"div",48),d.Wb(2,"p",49),d.Oc(3," How did you get here "),d.Vb(),d.Wb(4,"p",50),d.Oc(5," Sorry you can't access the page you're looking for. "),d.Vb(),d.Wb(6,"p",51),d.Oc(7," There may be a misspelling in the URL entered,"),d.Rb(8,"br"),d.Oc(9,"or the page you are looking for may no longer exist. "),d.Vb(),d.Vb(),d.Vb())}var ee,te=((ee=function(){function t(i,r,n,a,o){e(this,t),this.fb=i,this.router=r,this.notification=n,this.userService=a,this.dynamicAPIService=o,this.hidden=!1,this.options=[{label:"One Date",value:"one"},{label:"Two Date",value:"two"}],this.initResponseFields=[{originalApi:["",R.z.required],returnApi:["",R.z.required]}],this.localStorageCompany=this.getSelectedCompanyFromLocalStorage()}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.localStorageCompany?this.hidden=!1:(this.hidden=!0,this.notification.showError("Please select your Company!","")),this.dynamicAPIFG=this.fb.group({apiName:new R.g("",[R.z.required]),advertiserProvider:new R.g("",[R.z.required]),dynamicApiUri:new R.g("",[R.z.required,R.z.pattern(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/)]),responseFields:this.fb.array([]),startDate:new R.g("",[R.z.required]),endDate:new R.g("",[R.z.required,this.endDateValidator]),filteredCondition:new R.g(""),subid:new R.g({value:"",disabled:!0}),split:new R.g(""),reportFormat:new R.g("json")}),this.initResponseFields.map((function(t){e.responseFields.push(e.fb.group(t))}))}},{key:"endDateValidator",value:function(e){var t,i=new Date(null===(t=e.parent)||void 0===t?void 0:t.get("startDate").value),r=new Date(e.value);return i&&r&&r<i?{invalidRange:!0}:null}},{key:"onFilteredConditionChange",value:function(e){var t=this.dynamicAPIFG.get("subid");e.value?t.enable():t.disable()}},{key:"removeResponseField",value:function(e){this.responseFields.removeAt(e)}},{key:"addResponse",value:function(e){this.responseFields.push(this.newResponseFields())}},{key:"newResponseFields",value:function(){return this.fb.group({originalApi:["",R.z.required],returnApi:["",R.z.required]})}},{key:"getSelectedCompanyFromLocalStorage",value:function(){return this.userService.getSelectedCompanyFromLocalStorage()}},{key:"submitHandle",value:function(){var e=this;if(this.dynamicAPIFG.markAllAsTouched(),this.dynamicAPIFG.valid){var t=this.startDateControl.value.toISOString().slice(0,10),i=this.endDateControl.value.toISOString().slice(0,10);this.dynamicAPIFG.patchValue({startDate:t,endDate:i}),this.dynamicAPIService.createDynamicAPI(this.dynamicAPIFG.value).subscribe((function(t){e.notification.showSuccess("Successfully added a new Dynamic API.",""),e.router.navigate(["/dynamicAPI/all-dynamic-api"])}),(function(t){e.notification.showError(JSON.stringify(t.error),"")}))}}},{key:"startDateControl",get:function(){return this.dynamicAPIFG.get("startDate")}},{key:"endDateControl",get:function(){return this.dynamicAPIFG.get("endDate")}},{key:"responseFields",get:function(){return this.dynamicAPIFG.controls.responseFields}}]),t}()).\u0275fac=function(e){return new(e||ee)(d.Qb(R.f),d.Qb(c.h),d.Qb(s.a),d.Qb(l.a),d.Qb(f))},ee.\u0275cmp=d.Kb({type:ee,selectors:[["app-dynamic-api-create"]],viewQuery:function(e,t){var i;1&e&&d.Tc(R.k,!0),2&e&&d.zc(i=d.ic())&&(t.formGroupDirective=i.first)},decls:2,vars:2,consts:[["class","example-container",3,"formGroup","submit",4,"ngIf"],["class","error error-3 d-flex flex-row-fluid bgi-size-cover bgi-position-center","style","background-image: url('./assets/media/error/bg3.jpg'); height: 100%;zoom: 1;\n  display: block;\n  min-height: 80vh;\n  font-size: 14px;\n  line-height: 1.4;\n  color: #0e1724;",4,"ngIf"],[1,"example-container",3,"formGroup","submit"],[1,"row"],[1,"col-xl-8"],[1,"col-xl-12"],[1,"card","card-custom","example","example-compact","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],[1,"row","py-3"],[1,"col-xl-6"],["matInput","","formControlName","apiName","placeholder","API Name"],[4,"ngIf"],["matInput","","formControlName","advertiserProvider","placeholder","Advertiser Provider"],["type","url","matInput","","formControlName","dynamicApiUri","placeholder","DynamicAPIURI"],[1,"col-xl-3"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","responseFields"],["class","row py-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-xl-4"],["matNativeControl","","formControlName","filteredCondition",3,"selectionChange"],["value","StartsWith"],["value","EndsWith"],["value","Contains"],["value","Equal"],["matInput","","formControlName","subid","placeholder","Subid"],["type","number","matInput","","formControlName","split","placeholder","Split"],["matInput","","placeholder","Start Date","formControlName","startDate",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","placeholder","End Date","formControlName","endDate",3,"matDatepicker"],["endDatePicker",""],["matNativeControl","","formControlName","reportFormat"],["value","json"],["value","csv"],[1,"row","pt-2"],["mat-raised-button","","color","primary","type","submit",1,"save-button"],[1,"row","py-2",3,"formGroupName"],[1,"col-xl-5"],["matInput","","placeholder","Original API","formControlName","originalApi"],["matInput","","placeholder","Return API","formControlName","returnApi"],[1,"col-xl-2"],["title","Delete Response Field",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],[1,"error","error-3","d-flex","flex-row-fluid","bgi-size-cover","bgi-position-center",2,"background-image","url('./assets/media/error/bg3.jpg')","height","100%","zoom","1","display","block","min-height","80vh","font-size","14px","line-height","1.4","color","#0e1724"],[1,"px-10","px-md-30","py-10","py-md-0","d-flex","flex-column","justify-content-md-center"],[1,"display-4","font-weight-boldest","text-white","mb-12"],[1,"font-size-h1","font-weight-boldest","text-dark-75"],[1,"font-size-h4","line-height-md"]],template:function(e,t){1&e&&(d.Mc(0,Y,83,15,"form",0),d.Mc(1,Z,10,0,"div",1)),2&e&&(d.rc("ngIf",!t.hidden),d.Db(1),d.rc("ngIf",t.hidden))},directives:[o.p,R.B,R.r,R.k,N.c,E.b,R.d,R.q,R.i,R.e,o.o,N.g,q.a,M.p,R.v,z.d,z.f,N.j,z.c,U.b,N.b,R.l,g.a],pipes:[o.j],styles:[""]}),ee);function ie(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"API Name is required. "),d.Vb())}function re(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"Advertiser Provider is required. "),d.Vb())}function ne(e,t){1&e&&(d.Wb(0,"span"),d.Oc(1,"DynamicAPIURI is required."),d.Vb())}function ae(e,t){1&e&&(d.Wb(0,"span"),d.Oc(1,"Invalid URL format."),d.Vb())}function oe(e,t){if(1&e&&(d.Wb(0,"mat-error"),d.Mc(1,ne,2,0,"span",14),d.Mc(2,ae,2,0,"span",14),d.Vb()),2&e){var i=d.lc(2);d.Db(1),d.rc("ngIf",null==i.dynamicAPIEditFG.get("dynamicApiUri").errors?null:i.dynamicAPIEditFG.get("dynamicApiUri").errors.required),d.Db(1),d.rc("ngIf",null==i.dynamicAPIEditFG.get("dynamicApiUri").errors?null:i.dynamicAPIEditFG.get("dynamicApiUri").errors.pattern)}}function ce(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1," Original API is required. "),d.Vb())}function de(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1," Return API is required. "),d.Vb())}function le(e,t){if(1&e){var i=d.Xb();d.Wb(0,"div",41),d.Wb(1,"div",42),d.Wb(2,"mat-form-field"),d.Rb(3,"input",43),d.Mc(4,ce,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(5,"div",42),d.Wb(6,"mat-form-field"),d.Rb(7,"input",44),d.Mc(8,de,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(9,"div",45),d.Wb(10,"a",46),d.hc("click",(function(){d.Dc(i);var e=t.index;return d.lc(2).removeResponseField(e)})),d.Rb(11,"span",47),d.Vb(),d.Vb(),d.Vb()}if(2&e){var r=t.$implicit;d.rc("formGroupName",t.index),d.Db(4),d.rc("ngIf",null==r.get("originalApi").errors?null:r.get("originalApi").errors.required),d.Db(4),d.rc("ngIf",null==r.get("returnApi").errors?null:r.get("returnApi").errors.required),d.Db(3),d.rc("inlineSVG","./assets/media/svg/icons/General/Trash.svg")}}function se(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"Start Date is required"),d.Vb())}function be(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"End Date is required"),d.Vb())}function me(e,t){1&e&&(d.Wb(0,"mat-error"),d.Oc(1,"End Date must be greater than Start Date"),d.Vb())}function ue(e,t){if(1&e){var i=d.Xb();d.Wb(0,"form",2),d.hc("submit",(function(){return d.Dc(i),d.lc().submitHandle()})),d.Wb(1,"div",3),d.Wb(2,"div",4),d.Wb(3,"div",3),d.Wb(4,"div",5),d.Wb(5,"div",6),d.Wb(6,"div",7),d.Wb(7,"div",8),d.Wb(8,"h3",9),d.Oc(9,"Edit Dynamic API"),d.Vb(),d.Vb(),d.Vb(),d.Wb(10,"div",10),d.Oc(11),d.mc(12,"json"),d.Wb(13,"div",11),d.Wb(14,"div",12),d.Wb(15,"mat-form-field"),d.Rb(16,"input",13),d.Mc(17,ie,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(18,"div",12),d.Wb(19,"mat-form-field"),d.Rb(20,"input",15),d.Mc(21,re,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Vb(),d.Wb(22,"div",11),d.Wb(23,"div",16),d.Wb(24,"mat-form-field"),d.Rb(25,"input",17),d.Mc(26,oe,3,2,"mat-error",14),d.Vb(),d.Vb(),d.Vb(),d.Wb(27,"div",11),d.Wb(28,"div",18),d.Wb(29,"button",19),d.hc("click",(function(e){return d.Dc(i),d.lc().addResponse(e)})),d.Oc(30," Add Response Fields "),d.Vb(),d.Vb(),d.Vb(),d.Wb(31,"div",20),d.Mc(32,le,12,4,"div",21),d.Vb(),d.Wb(33,"div",22),d.Wb(34,"div",23),d.Wb(35,"mat-form-field"),d.Wb(36,"mat-label"),d.Oc(37,"Filtered Condition"),d.Vb(),d.Wb(38,"mat-select",24),d.hc("selectionChange",(function(e){return d.Dc(i),d.lc().onFilteredConditionChange(e)})),d.Wb(39,"mat-option",25),d.Oc(40,"StartsWith"),d.Vb(),d.Wb(41,"mat-option",26),d.Oc(42,"EndsWith"),d.Vb(),d.Wb(43,"mat-option",27),d.Oc(44,"Contains"),d.Vb(),d.Wb(45,"mat-option",28),d.Oc(46,"Equal"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(47,"div",23),d.Wb(48,"mat-form-field"),d.Rb(49,"input",29),d.Vb(),d.Vb(),d.Wb(50,"div",23),d.Wb(51,"mat-form-field"),d.Rb(52,"input",30),d.Vb(),d.Vb(),d.Vb(),d.Wb(53,"div",22),d.Wb(54,"div",12),d.Wb(55,"mat-form-field"),d.Rb(56,"input",31),d.Rb(57,"mat-datepicker-toggle",32),d.Rb(58,"mat-datepicker",null,33),d.Mc(60,se,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Wb(61,"div",12),d.Wb(62,"mat-form-field"),d.Rb(63,"input",34),d.Rb(64,"mat-datepicker-toggle",32),d.Rb(65,"mat-datepicker",null,35),d.Mc(67,be,2,0,"mat-error",14),d.Mc(68,me,2,0,"mat-error",14),d.Vb(),d.Vb(),d.Vb(),d.Wb(69,"div",22),d.Wb(70,"div",12),d.Wb(71,"mat-form-field"),d.Wb(72,"mat-label"),d.Oc(73,"Report Format"),d.Vb(),d.Wb(74,"mat-select",36),d.Wb(75,"mat-option",37),d.Oc(76,"JSON"),d.Vb(),d.Wb(77,"mat-option",38),d.Oc(78,"CSV"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Wb(79,"div",39),d.Wb(80,"div",16),d.Wb(81,"button",40),d.Oc(82,"Save"),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb(),d.Vb()}if(2&e){var r=d.Ac(59),n=d.Ac(66),a=d.lc();d.rc("formGroup",a.dynamicAPIEditFG),d.Db(11),d.Qc(" ",d.nc(12,13,a.dynamicAPIEditFG.value)," "),d.Db(6),d.rc("ngIf",null==a.dynamicAPIEditFG.get("apiName").errors?null:a.dynamicAPIEditFG.get("apiName").errors.required),d.Db(4),d.rc("ngIf",null==a.dynamicAPIEditFG.get("advertiserProvider").errors?null:a.dynamicAPIEditFG.get("advertiserProvider").errors.required),d.Db(5),d.rc("ngIf",a.dynamicAPIEditFG.get("dynamicApiUri").invalid&&(a.dynamicAPIEditFG.get("dynamicApiUri").dirty||a.dynamicAPIEditFG.get("dynamicApiUri").touched)),d.Db(6),d.rc("ngForOf",a.responseFields.controls),d.Db(24),d.rc("matDatepicker",r),d.Db(1),d.rc("for",r),d.Db(3),d.rc("ngIf",a.startDateControl.hasError("required")),d.Db(3),d.rc("matDatepicker",n),d.Db(1),d.rc("for",n),d.Db(3),d.rc("ngIf",a.endDateControl.hasError("required")),d.Db(1),d.rc("ngIf",a.endDateControl.hasError("invalidRange"))}}function pe(e,t){1&e&&(d.Wb(0,"div",48),d.Wb(1,"div",49),d.Wb(2,"p",50),d.Oc(3," How did you get here "),d.Vb(),d.Wb(4,"p",51),d.Oc(5," Sorry you can't access the page you're looking for. "),d.Vb(),d.Wb(6,"p",52),d.Oc(7," There may be a misspelling in the URL entered,"),d.Rb(8,"br"),d.Oc(9,"or the page you are looking for may no longer exist. "),d.Vb(),d.Vb(),d.Vb())}var fe,he,ge,ve,ye=((fe=function(){function t(i,r,n,a,o,c){e(this,t),this.fb=i,this.router=r,this.route=n,this.notification=a,this.userService=o,this.dynamicAPIService=c,this.hidden=!1,this.options=[{label:"One Date",value:"one"},{label:"Two Date",value:"two"}],this.localStorageCompany=this.getSelectedCompanyFromLocalStorage()}return i(t,[{key:"ngOnInit",value:function(){var e=this;this.localStorageCompany?this.hidden=!1:(this.hidden=!0,this.notification.showError("Please select your Company!","")),this.dynamicAPIEditFG=this.fb.group({apiName:new R.g("",[R.z.required]),advertiserProvider:new R.g("",[R.z.required]),dynamicApiUri:new R.g("",[R.z.required,R.z.pattern(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/)]),responseFields:this.fb.array([]),startDate:new R.g("",[R.z.required]),endDate:new R.g("",[R.z.required,this.endDateValidator]),filteredCondition:new R.g(""),subid:new R.g({value:"",disabled:!0}),split:new R.g(""),reportFormat:new R.g("")}),this.route.snapshot.params.id&&this.dynamicAPIService.getOneDynamicAPI(this.route.snapshot.params.id).subscribe((function(t){e.dyanmicAPIData=t,t.responseFields.map((function(t){e.responseFields.push(e.fb.group(t))})),e.dynamicAPIEditFG.patchValue({apiName:t.apiName,advertiserProvider:t.advertiserProvider,dynamicApiUri:t.dynamicApiUri,responseFields:t.responseFields,startDate:t.startDate,endDate:t.endDate,filteredCondition:"empty"!==t.filteredCondition?t.filteredCondition:"",subid:"empty"!==t.subid?t.subid:"",split:0!==t.split?t.split:"",reportFormat:t.reportFormat});var i=e.dynamicAPIEditFG.get("subid");t.subid?i.enable():i.disable()}))}},{key:"getSelectedCompanyFromLocalStorage",value:function(){return this.userService.getSelectedCompanyFromLocalStorage()}},{key:"onFilteredConditionChange",value:function(e){var t=this.dynamicAPIEditFG.get("subid");e.value?t.enable():t.disable()}},{key:"endDateValidator",value:function(e){var t,i=new Date(null===(t=e.parent)||void 0===t?void 0:t.get("startDate").value),r=new Date(e.value);return i&&r&&r<i?{invalidRange:!0}:null}},{key:"removeResponseField",value:function(e){this.responseFields.removeAt(e)}},{key:"addResponse",value:function(e){this.responseFields.push(this.newResponseFields())}},{key:"newResponseFields",value:function(){return this.fb.group({originalApi:["",R.z.required],returnApi:["",R.z.required]})}},{key:"submitHandle",value:function(){var e=this;this.dynamicAPIEditFG.markAllAsTouched(),this.dynamicAPIEditFG.valid&&(this.dyanmicAPIData=Object.assign(Object.assign({},this.dyanmicAPIData),this.dynamicAPIEditFG.value),this.dynamicAPIService.updateDynamicAPI(this.dyanmicAPIData).subscribe((function(t){e.notification.showSuccess("Successfully updated a Dynamic API.",""),e.router.navigate(["/dynamicAPI/all-dynamic-api"])}),(function(t){e.notification.showError(JSON.stringify(t.error),"")})))}},{key:"startDateControl",get:function(){return this.dynamicAPIEditFG.get("startDate")}},{key:"endDateControl",get:function(){return this.dynamicAPIEditFG.get("endDate")}},{key:"responseFields",get:function(){return this.dynamicAPIEditFG.controls.responseFields}}]),t}()).\u0275fac=function(e){return new(e||fe)(d.Qb(R.f),d.Qb(c.h),d.Qb(c.a),d.Qb(s.a),d.Qb(l.a),d.Qb(f))},fe.\u0275cmp=d.Kb({type:fe,selectors:[["app-dynamic-api-update"]],viewQuery:function(e,t){var i;1&e&&d.Tc(R.k,!0),2&e&&d.zc(i=d.ic())&&(t.formGroupDirective=i.first)},decls:2,vars:2,consts:[["class","example-container",3,"formGroup","submit",4,"ngIf"],["class","error error-3 d-flex flex-row-fluid bgi-size-cover bgi-position-center","style","background-image: url('./assets/media/error/bg3.jpg'); height: 100%;zoom: 1;\n  display: block;\n  min-height: 80vh;\n  font-size: 14px;\n  line-height: 1.4;\n  color: #0e1724;",4,"ngIf"],[1,"example-container",3,"formGroup","submit"],[1,"row"],[1,"col-xl-8"],[1,"col-xl-12"],[1,"card","card-custom","example","example-compact","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],[1,"row","py-3"],[1,"col-xl-6"],["matInput","","formControlName","apiName","placeholder","API Name"],[4,"ngIf"],["matInput","","formControlName","advertiserProvider","placeholder","Advertiser Provider"],[1,"col-md-12"],["type","url","matInput","","formControlName","dynamicApiUri","placeholder","DynamicAPIURI"],[1,"col-xl-3"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","responseFields"],["class","row py-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-xl-4"],["matNativeControl","","formControlName","filteredCondition",3,"selectionChange"],["value","StartsWith"],["value","EndsWith"],["value","Contains"],["value","Equal"],["matInput","","formControlName","subid","placeholder","Subid"],["type","number","matInput","","formControlName","split","placeholder","Split"],["matInput","","placeholder","Start Date","formControlName","startDate",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","placeholder","End Date","formControlName","endDate",3,"matDatepicker"],["endDatePicker",""],["matNativeControl","","formControlName","reportFormat"],["value","json"],["value","csv"],[1,"row","pt-2"],["mat-raised-button","","color","primary","type","submit",1,"save-button"],[1,"row","py-2",3,"formGroupName"],[1,"col-xl-5"],["matInput","","placeholder","Original API","formControlName","originalApi"],["matInput","","placeholder","Return API","formControlName","returnApi"],[1,"col-xl-2"],["title","Delete Response Field",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],[1,"error","error-3","d-flex","flex-row-fluid","bgi-size-cover","bgi-position-center",2,"background-image","url('./assets/media/error/bg3.jpg')","height","100%","zoom","1","display","block","min-height","80vh","font-size","14px","line-height","1.4","color","#0e1724"],[1,"px-10","px-md-30","py-10","py-md-0","d-flex","flex-column","justify-content-md-center"],[1,"display-4","font-weight-boldest","text-white","mb-12"],[1,"font-size-h1","font-weight-boldest","text-dark-75"],[1,"font-size-h4","line-height-md"]],template:function(e,t){1&e&&(d.Mc(0,ue,83,15,"form",0),d.Mc(1,pe,10,0,"div",1)),2&e&&(d.rc("ngIf",!t.hidden),d.Db(1),d.rc("ngIf",t.hidden))},directives:[o.p,R.B,R.r,R.k,N.c,E.b,R.d,R.q,R.i,R.e,o.o,N.g,q.a,M.p,R.v,z.d,z.f,N.j,z.c,U.b,N.b,R.l,g.a],pipes:[o.j],styles:[""]}),fe),Ve=[{path:"",component:(he=function(){function t(){e(this,t)}return i(t,[{key:"ngOnInit",value:function(){}}]),t}(),he.\u0275fac=function(e){return new(e||he)},he.\u0275cmp=d.Kb({type:he,selectors:[["app-dynamic-api"]],decls:1,vars:0,template:function(e,t){1&e&&d.Rb(0,"router-outlet")},directives:[c.l],styles:[""]}),he),children:[{path:"all-dynamic-api",component:x},{path:"create",component:te},{path:"edit/:id",component:ye,pathMatch:"full"},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]}],De=((ge=function t(){e(this,t)}).\u0275mod=d.Ob({type:ge}),ge.\u0275inj=d.Nb({factory:function(e){return new(e||ge)},imports:[[c.k.forChild(Ve)],c.k]}),ge),We=n("NFeN"),Ie=n("UKGz"),Ae=n("QibW"),Pe=((ve=function t(){e(this,t)}).\u0275mod=d.Ob({type:ve}),ve.\u0275inj=d.Nb({factory:function(e){return new(e||ve)},imports:[[o.c,De,R.m,R.w,N.e,E.c,U.c,z.e,We.b,Ae.c,q.b,h.g,Ie.a,g.b.forRoot()]]}),ve)},UKGz:function(t,i,r){"use strict";r.d(i,"a",(function(){return u}));var n=r("ofXK"),a=r("3Pt+"),o=r("d3UM"),c=r("FKr1"),d=r("iadO"),l=r("MutI"),s=r("kmnG"),b=r("e8Ap"),m=r("fXoL"),u=function(){var t=function t(){e(this,t)};return t.\u0275mod=m.Ob({type:t}),t.\u0275inj=m.Nb({factory:function(e){return new(e||t)},imports:[[n.c,a.w,a.m,s.e,c.n,o.b,c.q,d.e,l.d,b.b]]}),t}()}}])}();