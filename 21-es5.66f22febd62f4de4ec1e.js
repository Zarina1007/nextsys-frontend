!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function a(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"/X+5":function(e,n,r){"use strict";r.d(n,"a",(function(){return D}));var c=r("fXoL"),i=r("3Pt+"),o=r("wd/R"),s=r("kmnG"),u=r("iadO"),l=r("ofXK"),d=r("d3UM"),f=r("FKr1");function h(t,e){1&t&&(c.Wb(0,"mat-error"),c.Oc(1,"Invalid start date"),c.Vb())}function g(t,e){1&t&&(c.Wb(0,"mat-error"),c.Oc(1,"Invalid end date"),c.Vb())}function b(t,e){if(1&t&&(c.Wb(0,"mat-option",15),c.Oc(1),c.Vb()),2&t){var a=e.$implicit;c.rc("value",a.value),c.Db(1),c.Qc(" ",a.viewValue," ")}}var D=function(){var e=function(){function e(){t(this,e),this.onDatesPicked=new c.p}return a(e,[{key:"ngOnInit",value:function(){this.preSetDateRanges=this.getDateRanges(),this.range=new i.j({startDate:new i.g,endDate:new i.g}),this.selectedRange={startDate:"",endDate:""},this.preSelectValue="last7days",this.preSelectDates=this.getPreSetDateRange(this.preSelectValue),this.updateDatePickerRange(this.preSelectDates.startDate,this.preSelectDates.endDate),this.emitSelectedRange()}},{key:"getDateRanges",value:function(){return[{value:"today",viewValue:"Today"},{value:"yesterday",viewValue:"Yesterday"},{value:"last7days",viewValue:"Last 7 Days"},{value:"last30days",viewValue:"Last 30 Days"},{value:"monthToDate",viewValue:"Month to Date"},{value:"lastMonth",viewValue:"Last Month"},{value:"custom",viewValue:"Custom"}]}},{key:"getPreSetDateRange",value:function(t){switch(t){case"today":return{startDate:o().utc().startOf("day").format("MM-DD-YYYY"),endDate:o().utc().endOf("day").format("MM-DD-YYYY")};case"yesterday":return{startDate:o().subtract(1,"days").utc().startOf("day").format("MM-DD-YYYY"),endDate:o().subtract(1,"days").utc().endOf("day").format("MM-DD-YYYY")};case"last7days":return{startDate:o().subtract(7,"days").utc().startOf("day").format("MM-DD-YYYY"),endDate:o().utc().endOf("day").format("MM-DD-YYYY")};case"last30days":return{startDate:o().subtract(30,"days").utc().startOf("day").format("MM-DD-YYYY"),endDate:o().utc().endOf("day").format("MM-DD-YYYY")};case"monthToDate":return{startDate:o().startOf("month").utc().startOf("day").format("MM-DD-YYYY"),endDate:o().utc().endOf("day").format("MM-DD-YYYY")};case"lastMonth":return{startDate:o().subtract(1,"months").startOf("month").utc().startOf("day").format("MM-DD-YYYY"),endDate:o().utc().subtract(1,"months").endOf("month").format("MM-DD-YYYY")}}}},{key:"onPreSetRangeSelectChange",value:function(t){"custom"!==t.value&&(this.preSelectValue=t.value,this.preSelectDates=this.getPreSetDateRange(this.preSelectValue),this.updateDatePickerRange(this.preSelectDates.startDate,this.preSelectDates.endDate),this.emitSelectedRange())}},{key:"updateDatePickerRange",value:function(t,e){this.range.patchValue({startDate:o(t,"MM-DD-YYYY").toDate(),endDate:o(e,"MM-DD-YYYY").toDate()})}},{key:"changeDatePicker",value:function(){this.range.valid&&(this.selectedRange.startDate=this.range.value.startDate,this.selectedRange.endDate=this.range.value.endDate,this.preSelectValue="custom",this.emitSelectedRange())}},{key:"emitSelectedRange",value:function(){if(this.range.valid){this.selectedRange.startDate=this.range.value.startDate,this.selectedRange.endDate=this.range.value.endDate;var t=this.selectedRange;t.startDate=o(this.selectedRange.startDate).startOf("day").format("MM-DD-YYYY"),t.endDate=o(this.selectedRange.endDate).endOf("day").format("MM-DD-YYYY"),this.onDatesPicked.emit(t)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Kb({type:e,selectors:[["app-reporting-filtering"]],outputs:{onDatesPicked:"onDatesPicked"},decls:24,vars:7,consts:[[1,"row"],[1,"col-xl-6"],[1,"card","card-custom","example","example-compact","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],[3,"formGroup","rangePicker","dateChange"],["matStartDate","","formControlName","startDate","placeholder","Start date","required",""],["matEndDate","","formControlName","endDate","placeholder","End date","required","",3,"dateChange"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],[3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){if(1&t&&(c.Wb(0,"div",0),c.Wb(1,"div",1),c.Wb(2,"div",2),c.Wb(3,"div",3),c.Wb(4,"div",4),c.Wb(5,"h2",5),c.Oc(6,"Filter Date Range"),c.Vb(),c.Vb(),c.Vb(),c.Wb(7,"div",6),c.Wb(8,"mat-form-field"),c.Wb(9,"mat-label"),c.Oc(10,"Enter a custom date range"),c.Vb(),c.Wb(11,"mat-date-range-input",7),c.hc("dateChange",(function(){return e.changeDatePicker()})),c.Rb(12,"input",8),c.Wb(13,"input",9),c.hc("dateChange",(function(){return e.changeDatePicker()})),c.Vb(),c.Vb(),c.Rb(14,"mat-datepicker-toggle",10),c.Rb(15,"mat-date-range-picker",null,11),c.Mc(17,h,2,0,"mat-error",12),c.Mc(18,g,2,0,"mat-error",12),c.Vb(),c.Wb(19,"mat-form-field"),c.Wb(20,"mat-label"),c.Oc(21,"Preset Date Range"),c.Vb(),c.Wb(22,"mat-select",13),c.hc("ngModelChange",(function(t){return e.preSelectValue=t}))("selectionChange",(function(t){return e.onPreSetRangeSelectChange(t)})),c.Mc(23,b,2,2,"mat-option",14),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb()),2&t){var a=c.Ac(16);c.Db(11),c.rc("formGroup",e.range)("rangePicker",a),c.Db(3),c.rc("for",a),c.Db(3),c.rc("ngIf",e.range.controls.startDate.hasError("matStartDateInvalid")),c.Db(1),c.rc("ngIf",e.range.controls.endDate.hasError("matEndDateInvalid")),c.Db(4),c.rc("ngModel",e.preSelectValue),c.Db(1),c.rc("ngForOf",e.preSetDateRanges)}},directives:[s.c,s.g,u.a,i.r,i.k,u.h,i.d,i.q,i.i,i.x,u.g,u.f,s.j,u.b,l.p,d.a,i.t,l.o,s.b,f.p],styles:[""]}),e}()},UKGz:function(e,a,n){"use strict";n.d(a,"a",(function(){return h}));var r=n("ofXK"),c=n("3Pt+"),i=n("d3UM"),o=n("FKr1"),s=n("iadO"),u=n("MutI"),l=n("kmnG"),d=n("e8Ap"),f=n("fXoL"),h=function(){var e=function e(){t(this,e)};return e.\u0275mod=f.Ob({type:e}),e.\u0275inj=f.Nb({factory:function(t){return new(t||e)},imports:[[r.c,c.w,c.m,l.e,o.n,i.b,o.q,s.e,u.d,d.b]]}),e}()},zDcN:function(e,n,r){"use strict";r.r(n),r.d(n,"QualityReportModule",(function(){return T}));var c,i,o=r("ofXK"),s=r("tyNb"),u=r("fXoL"),l=((c=function(){function e(){t(this,e)}return a(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||c)},c.\u0275cmp=u.Kb({type:c,selectors:[["app-quality-report"]],decls:1,vars:0,template:function(t,e){1&t&&u.Rb(0,"router-outlet")},directives:[s.l],styles:[""]}),c),d=r("mrSG"),f=r("AytR"),h=r("tk/3"),g=f.a.apiUrl+"/latencyTrafik",b=((i=function(){function e(a){t(this,e),this.http=a}return a(e,[{key:"getLatency",value:function(t,e){return this.http.get(""+g,{params:{startDate:t,endDate:e}})}}]),e}()).\u0275fac=function(t){return new(t||i)(u.ec(h.c))},i.\u0275prov=u.Mb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),D=r("/X+5"),m=r("lDzL"),p=["expandableTable"];function v(t,e){1&t&&u.Oc(0," Date ")}function y(t,e){if(1&t&&(u.Wb(0,"strong"),u.Oc(1),u.mc(2,"date"),u.Vb()),2&t){var a=e.value;u.Db(1),u.Pc(u.nc(2,1,a))}}function Y(t,e){1&t&&u.Oc(0," Subid ")}function M(t,e){if(1&t&&(u.Wb(0,"strong"),u.Oc(1),u.Vb()),2&t){var a=e.value;u.Db(1),u.Pc(a)}}function V(t,e){1&t&&u.Oc(0," Latency ")}function w(t,e){if(1&t&&(u.Wb(0,"strong"),u.Oc(1),u.mc(2,"number"),u.Vb()),2&t){var a=e.value;u.Db(1),u.Pc(u.nc(2,1,a))}}function k(t,e){1&t&&u.Oc(0," Average Latency ")}function O(t,e){if(1&t&&(u.Wb(0,"strong"),u.Oc(1),u.mc(2,"number"),u.Vb()),2&t){var a=e.value;u.Db(1),u.Pc(u.nc(2,1,a))}}function R(t,e){1&t&&u.Oc(0," Queries ")}function W(t,e){if(1&t&&(u.Wb(0,"strong"),u.Oc(1),u.mc(2,"number"),u.Vb()),2&t){var a=e.value;u.Db(1),u.Pc(u.nc(2,1,a))}}var S,P,x,C=[{path:"",component:l,children:[{path:"latency",component:(S=function(){function e(a,n){t(this,e),this.cdr=a,this.latencyTrafikService=n,this.loadingIndicator=!0,this.range={startDate:"",endDate:""}}return a(e,[{key:"ngAfterViewInit",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getLatency(this.range.startDate,this.range.endDate);case 2:this.latencyData=t.sent,this.rows=this.latencyData,this.cdr.detectChanges();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getLatency",value:function(t,e){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,this.latencyTrafikService.getLatency(t,e).toPromise();case 3:return n=a.sent,a.abrupt("return",(this.loadingIndicator=!1,n));case 7:return a.prev=7,a.t0=a.catch(0),a.abrupt("return",a.t0);case 10:case"end":return a.stop()}}),a,this,[[0,7]])})))}},{key:"updateReportingFiltering",value:function(t){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.range=t,e.next=3,this.getLatency(this.range.startDate,this.range.endDate);case 3:this.rows=e.sent,this.cdr.detectChanges();case 5:case"end":return e.stop()}}),e,this)})))}}]),e}(),S.\u0275fac=function(t){return new(t||S)(u.Qb(u.i),u.Qb(b))},S.\u0275cmp=u.Kb({type:S,selectors:[["app-latency"]],viewQuery:function(t,e){var a;1&t&&u.Tc(p,!0),2&t&&u.zc(a=u.ic())&&(e.table=a.first)},decls:18,vars:11,consts:[[3,"onDatesPicked"],[1,"material","fullscreen","expandable",2,"top","30px","height","500px",3,"columnMode","headerHeight","footerHeight","rowHeight","scrollbarV","rows","loadingIndicator"],["expandableTable",""],["name","date",3,"minWidth"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["name","subid"],["name","latency",3,"minWidth"],["name","averageLatency",3,"minWidth"],["name","queries",3,"minWidth"]],template:function(t,e){1&t&&(u.Wb(0,"app-reporting-filtering",0),u.hc("onDatesPicked",(function(t){return e.updateReportingFiltering(t)})),u.Vb(),u.Wb(1,"ngx-datatable",1,2),u.Wb(3,"ngx-datatable-column",3),u.Mc(4,v,1,0,"ng-template",4),u.Mc(5,y,3,3,"ng-template",5),u.Vb(),u.Wb(6,"ngx-datatable-column",6),u.Mc(7,Y,1,0,"ng-template",4),u.Mc(8,M,2,1,"ng-template",5),u.Vb(),u.Wb(9,"ngx-datatable-column",7),u.Mc(10,V,1,0,"ng-template",4),u.Mc(11,w,3,3,"ng-template",5),u.Vb(),u.Wb(12,"ngx-datatable-column",8),u.Mc(13,k,1,0,"ng-template",4),u.Mc(14,O,3,3,"ng-template",5),u.Vb(),u.Wb(15,"ngx-datatable-column",9),u.Mc(16,R,1,0,"ng-template",4),u.Mc(17,W,3,3,"ng-template",5),u.Vb(),u.Vb()),2&t&&(u.Db(1),u.rc("columnMode","force")("headerHeight",50)("footerHeight",0)("rowHeight",50)("scrollbarV",!0)("rows",e.rows)("loadingIndicator",e.loadingIndicator),u.Db(2),u.rc("minWidth",100),u.Db(6),u.rc("minWidth",35),u.Db(3),u.rc("minWidth",35),u.Db(3),u.rc("minWidth",35))},directives:[D.a,m.d,m.b,m.c,m.a],pipes:[o.f,o.g],styles:[""]}),S),pathMatch:"full"},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]}],I=((P=function e(){t(this,e)}).\u0275mod=u.Ob({type:P}),P.\u0275inj=u.Nb({factory:function(t){return new(t||P)},imports:[[s.k.forChild(C)],s.k]}),P),L=r("UKGz"),T=((x=function e(){t(this,e)}).\u0275mod=u.Ob({type:x}),x.\u0275inj=u.Nb({factory:function(t){return new(t||x)},imports:[[o.c,I,m.g,L.a]]}),x)}}])}();