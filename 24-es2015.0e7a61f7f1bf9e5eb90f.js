(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{UEss:function(e,t,i){"use strict";i.r(t),i.d(t,"DynamicAPIModule",(function(){return ge}));var r=i("ofXK"),n=i("tyNb"),a=i("fXoL"),o=i("oabR"),c=i("soTd"),d=i("Dvla"),s=i("AytR"),l=i("tk/3");const b=s.a.apiUrl+"/dynamicAPI";let m=(()=>{class e{constructor(e){this.http=e}createDynamicAPI(e){return this.http.post(b+"/create",e)}getDynamicAPIs(){return this.http.get(b+"/all-dynamicApis")}getOneDynamicAPI(e){return this.http.get(b+"/get-dynamicApi/"+e)}updateDynamicAPI(e){return this.http.put(`${b}/update/${e._key}`,e)}deleteDynamicAPI(e){return this.http.delete(b+"/delete/"+e)}}return e.\u0275fac=function(t){return new(t||e)(a.ec(l.c))},e.\u0275prov=a.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=i("lDzL"),u=i("e8Ap");function h(e,t){1&e&&a.Oc(0," API Name ")}function g(e,t){1&e&&a.Oc(0),2&e&&a.Qc(" ",t.value," ")}function f(e,t){1&e&&a.Oc(0," Advertiser Provider ")}function v(e,t){1&e&&a.Oc(0),2&e&&a.Qc(" ",t.value," ")}function y(e,t){1&e&&a.Oc(0," DynamicAPIUri ")}function V(e,t){1&e&&a.Oc(0),2&e&&a.Qc(" ",t.value," ")}function D(e,t){1&e&&a.Oc(0," Start Date ")}function W(e,t){1&e&&a.Oc(0),2&e&&a.Qc(" ",t.value," ")}function I(e,t){1&e&&a.Oc(0," End Date ")}function A(e,t){1&e&&a.Oc(0),2&e&&a.Qc(" ",t.value," ")}function P(e,t){1&e&&a.Oc(0,"Action")}function w(e,t){if(1&e){const e=a.Xb();a.Wb(0,"a",21),a.hc("click",(function(){a.Dc(e);const i=t.row;return a.lc(2).editDynamicAPI(i._key)})),a.Rb(1,"span",22),a.Vb(),a.Wb(2,"a",23),a.hc("click",(function(){a.Dc(e);const i=t.row;return a.lc(2).deleteDynamicAPI(i._key)})),a.Rb(3,"span",24),a.Vb(),a.Wb(4,"a",25),a.hc("click",(function(){a.Dc(e);const i=t.row;return a.lc(2).copyToDynamicAPIClipboard(i)})),a.Rb(5,"span",26),a.Vb()}if(2&e){const e=t.row;a.Db(1),a.rc("inlineSVG","./assets/media/svg/icons/Communication/Write.svg"),a.Db(2),a.rc("inlineSVG","./assets/media/svg/icons/General/Trash.svg"),a.Db(2),a.rc("inlineSVG",e.copy?"./assets/media/svg/icons/General/copied.svg":"./assets/media/svg/icons/General/Clipboard.svg")}}function F(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",2),a.Wb(1,"div",3),a.Wb(2,"div",4),a.Wb(3,"div",5),a.Wb(4,"div",6),a.Wb(5,"h3",7),a.Oc(6,"Dynamic API"),a.Vb(),a.Vb(),a.Vb(),a.Wb(7,"div",8),a.Wb(8,"div",9),a.Wb(9,"div",10),a.Wb(10,"button",11),a.hc("click",(function(){return a.Dc(e),a.lc().handleAddDynamicAPI()})),a.Oc(11," Create "),a.Vb(),a.Vb(),a.Vb(),a.Wb(12,"ngx-datatable",12),a.Wb(13,"ngx-datatable-column",13),a.Mc(14,h,1,0,"ng-template",14),a.Mc(15,g,1,1,"ng-template",15),a.Vb(),a.Wb(16,"ngx-datatable-column",16),a.Mc(17,f,1,0,"ng-template",14),a.Mc(18,v,1,1,"ng-template",15),a.Vb(),a.Wb(19,"ngx-datatable-column",17),a.Mc(20,y,1,0,"ng-template",14),a.Mc(21,V,1,1,"ng-template",15),a.Vb(),a.Wb(22,"ngx-datatable-column",18),a.Mc(23,D,1,0,"ng-template",14),a.Mc(24,W,1,1,"ng-template",15),a.Vb(),a.Wb(25,"ngx-datatable-column",19),a.Mc(26,I,1,0,"ng-template",14),a.Mc(27,A,1,1,"ng-template",15),a.Vb(),a.Wb(28,"ngx-datatable-column",20),a.Mc(29,P,1,0,"ng-template",14),a.Mc(30,w,6,3,"ng-template",15),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.lc();a.Db(12),a.rc("rows",e.rows)("columnMode","force")("loadingIndicator",e.loadingIndicator)("footerHeight",50)("rowHeight",50)("scrollbarH",!0)("headerHeight",50)("limit",10),a.Db(1),a.rc("width",50),a.Db(3),a.rc("width",50),a.Db(3),a.rc("width",150),a.Db(3),a.rc("width",50),a.Db(3),a.rc("width",50),a.Db(3),a.rc("width",100)}}function O(e,t){1&e&&(a.Wb(0,"div",27),a.Wb(1,"div",28),a.Wb(2,"p",29),a.Oc(3," How did you get here "),a.Vb(),a.Wb(4,"p",30),a.Oc(5," Sorry you can't access the page you're looking for. "),a.Vb(),a.Wb(6,"p",31),a.Oc(7," There may be a misspelling in the URL entered,"),a.Rb(8,"br"),a.Oc(9,"or the page you are looking for may no longer exist. "),a.Vb(),a.Vb(),a.Vb())}let S=(()=>{class e{constructor(e,t,i,r,n,a){this.cdr=e,this.router=t,this.userService=i,this.notification=r,this.clipboardService=n,this.dynamicAPIService=a,this.loadingIndicator=!0,this.hidden=!1}ngOnInit(){this.localStorageCompany=this.getSelectedCompanyFromLocalStorage(),this.localStorageCompany?this.hidden=!1:(this.hidden=!0,this.notification.showError("Please select your Company!","")),this.getDynamicApis()}getDynamicApis(){this.dynamicAPIService.getDynamicAPIs().subscribe(e=>{this.rows=e,this.loadingIndicator=!1,this.cdr.detectChanges()},e=>{this.notification.showError(e.error,"")})}handleAddDynamicAPI(){this.router.navigateByUrl("/dynamicAPI/create")}getSelectedCompanyFromLocalStorage(){return this.userService.getSelectedCompanyFromLocalStorage()}editDynamicAPI(e){this.router.navigateByUrl("/dynamicAPI/edit/"+e)}deleteDynamicAPI(e){window.confirm("Do you want to go ahead?")&&this.dynamicAPIService.deleteDynamicAPI(e).subscribe(e=>{this.getDynamicApis(),this.notification.showSuccess("Successfully deleted Dynamic Api.","")},e=>{console.log(e),this.notification.showError("Error deleting deleteDynamicAPI: "+e,"")})}copyToDynamicAPIClipboard(e){const t=e.urlKey;e.copy=!0,this.clipboardService.copyFromContent(`http://api.nextsys.io/api/dynamicAPI/uri/${t}?startDate=${e.startDate}&endDate=${e.endDate}`),setTimeout(()=>{e.copy=!1,this.cdr.detectChanges()},3e3)}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(a.i),a.Qb(n.h),a.Qb(o.a),a.Qb(c.a),a.Qb(d.b),a.Qb(m))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-all-dynamic-api"]],decls:2,vars:2,consts:[["class","row",4,"ngIf"],["class","error error-3 d-flex flex-row-fluid bgi-size-cover bgi-position-center","style","background-image: url('./assets/media/error/bg3.jpg'); height: 100%;zoom: 1;\n    display: block;\n    min-height: 80vh;\n    font-size: 14px;\n    line-height: 1.4;\n    color: #0e1724;",4,"ngIf"],[1,"row"],[1,"col-xl-12"],[1,"card","card-custom","example","example-compact","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],[1,"row","pb-3"],[1,"col-md-12"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],[1,"material","fullscreen",3,"rows","columnMode","loadingIndicator","footerHeight","rowHeight","scrollbarH","headerHeight","limit"],["name","apiName",3,"width"],["ngx-datatable-header-template",""],["ngx-datatable-cell-template",""],["name","advertiserProvider",3,"width"],["name","dynamicApiUri",3,"width"],["name","startDate",3,"width"],["name","endDate",3,"width"],["name","id",3,"width"],["title","Edit Sheet",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-2",3,"click"],["cacheSVG","true",1,"svg-icon","svg-icon-md","svg-icon-primary",3,"inlineSVG"],["title","Delete Sheet",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm","mx-2",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],["title","COPY Dynamic API",1,"btn","btn-icon","btn-light","btn-hover-info","btn-sm","mx-2",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-info",3,"inlineSVG"],[1,"error","error-3","d-flex","flex-row-fluid","bgi-size-cover","bgi-position-center",2,"background-image","url('./assets/media/error/bg3.jpg')","height","100%","zoom","1","display","block","min-height","80vh","font-size","14px","line-height","1.4","color","#0e1724"],[1,"px-10","px-md-30","py-10","py-md-0","d-flex","flex-column","justify-content-md-center"],[1,"display-4","font-weight-boldest","text-white","mb-12"],[1,"font-size-h1","font-weight-boldest","text-dark-75"],[1,"font-size-h4","line-height-md"]],template:function(e,t){1&e&&(a.Mc(0,F,31,14,"div",0),a.Mc(1,O,10,0,"div",1)),2&e&&(a.rc("ngIf",!t.hidden),a.Db(1),a.rc("ngIf",t.hidden))},directives:[r.p,p.d,p.b,p.c,p.a,u.a],styles:[""]}),e})();var C=i("3Pt+"),G=i("kmnG"),x=i("qFsG"),R=i("d3UM"),k=i("FKr1"),N=i("iadO"),E=i("bTqV");function q(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"API Name is required. "),a.Vb())}function M(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"Advertiser Provider is required. "),a.Vb())}function z(e,t){1&e&&(a.Wb(0,"span"),a.Oc(1,"DynamicAPIURI is required."),a.Vb())}function U(e,t){1&e&&(a.Wb(0,"span"),a.Oc(1,"Invalid URL format."),a.Vb())}function Q(e,t){if(1&e&&(a.Wb(0,"mat-error"),a.Mc(1,z,2,0,"span",14),a.Mc(2,U,2,0,"span",14),a.Vb()),2&e){const e=a.lc(2);a.Db(1),a.rc("ngIf",null==e.dynamicAPIFG.get("dynamicApiUri").errors?null:e.dynamicAPIFG.get("dynamicApiUri").errors.required),a.Db(1),a.rc("ngIf",null==e.dynamicAPIFG.get("dynamicApiUri").errors?null:e.dynamicAPIFG.get("dynamicApiUri").errors.pattern)}}function j(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1," Original API is required. "),a.Vb())}function T(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1," Return API is required. "),a.Vb())}function L(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",40),a.Wb(1,"div",41),a.Wb(2,"mat-form-field"),a.Rb(3,"input",42),a.Mc(4,j,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(5,"div",41),a.Wb(6,"mat-form-field"),a.Rb(7,"input",43),a.Mc(8,T,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(9,"div",44),a.Wb(10,"a",45),a.hc("click",(function(){a.Dc(e);const i=t.index;return a.lc(2).removeResponseField(i)})),a.Rb(11,"span",46),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit;a.rc("formGroupName",t.index),a.Db(4),a.rc("ngIf",null==e.get("originalApi").errors?null:e.get("originalApi").errors.required),a.Db(4),a.rc("ngIf",null==e.get("returnApi").errors?null:e.get("returnApi").errors.required),a.Db(3),a.rc("inlineSVG","./assets/media/svg/icons/General/Trash.svg")}}function H(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"Start Date is required"),a.Vb())}function K(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"End Date is required"),a.Vb())}function $(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"End Date must be greater than Start Date"),a.Vb())}function X(e,t){if(1&e){const e=a.Xb();a.Wb(0,"form",2),a.hc("submit",(function(){return a.Dc(e),a.lc().submitHandle()})),a.Wb(1,"div",3),a.Wb(2,"div",4),a.Wb(3,"div",3),a.Wb(4,"div",5),a.Wb(5,"div",6),a.Wb(6,"div",7),a.Wb(7,"div",8),a.Wb(8,"h3",9),a.Oc(9,"Create Dynamic API"),a.Vb(),a.Vb(),a.Vb(),a.Wb(10,"div",10),a.Oc(11),a.mc(12,"json"),a.Wb(13,"div",11),a.Wb(14,"div",12),a.Wb(15,"mat-form-field"),a.Rb(16,"input",13),a.Mc(17,q,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(18,"div",12),a.Wb(19,"mat-form-field"),a.Rb(20,"input",15),a.Mc(21,M,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Vb(),a.Wb(22,"div",11),a.Wb(23,"div",5),a.Wb(24,"mat-form-field"),a.Rb(25,"input",16),a.Mc(26,Q,3,2,"mat-error",14),a.Vb(),a.Vb(),a.Vb(),a.Wb(27,"div",11),a.Wb(28,"div",17),a.Wb(29,"button",18),a.hc("click",(function(t){return a.Dc(e),a.lc().addResponse(t)})),a.Oc(30," Add Response Fields "),a.Vb(),a.Vb(),a.Vb(),a.Wb(31,"div",19),a.Mc(32,L,12,4,"div",20),a.Vb(),a.Wb(33,"div",21),a.Wb(34,"div",22),a.Wb(35,"mat-form-field"),a.Wb(36,"mat-label"),a.Oc(37,"Filtered Condition"),a.Vb(),a.Wb(38,"mat-select",23),a.hc("selectionChange",(function(t){return a.Dc(e),a.lc().onFilteredConditionChange(t)})),a.Wb(39,"mat-option",24),a.Oc(40,"StartsWith"),a.Vb(),a.Wb(41,"mat-option",25),a.Oc(42,"EndsWith"),a.Vb(),a.Wb(43,"mat-option",26),a.Oc(44,"Contains"),a.Vb(),a.Wb(45,"mat-option",27),a.Oc(46,"Equal"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(47,"div",22),a.Wb(48,"mat-form-field"),a.Rb(49,"input",28),a.Vb(),a.Vb(),a.Wb(50,"div",22),a.Wb(51,"mat-form-field"),a.Rb(52,"input",29),a.Vb(),a.Vb(),a.Vb(),a.Wb(53,"div",21),a.Wb(54,"div",12),a.Wb(55,"mat-form-field"),a.Rb(56,"input",30),a.Rb(57,"mat-datepicker-toggle",31),a.Rb(58,"mat-datepicker",null,32),a.Mc(60,H,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(61,"div",12),a.Wb(62,"mat-form-field"),a.Rb(63,"input",33),a.Rb(64,"mat-datepicker-toggle",31),a.Rb(65,"mat-datepicker",null,34),a.Mc(67,K,2,0,"mat-error",14),a.Mc(68,$,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Vb(),a.Wb(69,"div",21),a.Wb(70,"div",12),a.Wb(71,"mat-form-field"),a.Wb(72,"mat-label"),a.Oc(73,"Report Format"),a.Vb(),a.Wb(74,"mat-select",35),a.Wb(75,"mat-option",36),a.Oc(76,"JSON"),a.Vb(),a.Wb(77,"mat-option",37),a.Oc(78,"CSV"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(79,"div",38),a.Wb(80,"div",5),a.Wb(81,"button",39),a.Oc(82,"Save"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.Ac(59),t=a.Ac(66),i=a.lc();a.rc("formGroup",i.dynamicAPIFG),a.Db(11),a.Qc(" ",a.nc(12,13,i.dynamicAPIFG.value)," "),a.Db(6),a.rc("ngIf",null==i.dynamicAPIFG.get("apiName").errors?null:i.dynamicAPIFG.get("apiName").errors.required),a.Db(4),a.rc("ngIf",null==i.dynamicAPIFG.get("advertiserProvider").errors?null:i.dynamicAPIFG.get("advertiserProvider").errors.required),a.Db(5),a.rc("ngIf",i.dynamicAPIFG.get("dynamicApiUri").invalid&&(i.dynamicAPIFG.get("dynamicApiUri").dirty||i.dynamicAPIFG.get("dynamicApiUri").touched)),a.Db(6),a.rc("ngForOf",i.responseFields.controls),a.Db(24),a.rc("matDatepicker",e),a.Db(1),a.rc("for",e),a.Db(3),a.rc("ngIf",i.startDateControl.hasError("required")),a.Db(3),a.rc("matDatepicker",t),a.Db(1),a.rc("for",t),a.Db(3),a.rc("ngIf",i.endDateControl.hasError("required")),a.Db(1),a.rc("ngIf",i.endDateControl.hasError("invalidRange"))}}function J(e,t){1&e&&(a.Wb(0,"div",47),a.Wb(1,"div",48),a.Wb(2,"p",49),a.Oc(3," How did you get here "),a.Vb(),a.Wb(4,"p",50),a.Oc(5," Sorry you can't access the page you're looking for. "),a.Vb(),a.Wb(6,"p",51),a.Oc(7," There may be a misspelling in the URL entered,"),a.Rb(8,"br"),a.Oc(9,"or the page you are looking for may no longer exist. "),a.Vb(),a.Vb(),a.Vb())}let B=(()=>{class e{constructor(e,t,i,r,n){this.fb=e,this.router=t,this.notification=i,this.userService=r,this.dynamicAPIService=n,this.hidden=!1,this.options=[{label:"One Date",value:"one"},{label:"Two Date",value:"two"}],this.initResponseFields=[{originalApi:["",C.z.required],returnApi:["",C.z.required]}],this.localStorageCompany=this.getSelectedCompanyFromLocalStorage()}ngOnInit(){this.localStorageCompany?this.hidden=!1:(this.hidden=!0,this.notification.showError("Please select your Company!","")),this.dynamicAPIFG=this.fb.group({apiName:new C.g("",[C.z.required]),advertiserProvider:new C.g("",[C.z.required]),dynamicApiUri:new C.g("",[C.z.required,C.z.pattern(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/)]),responseFields:this.fb.array([]),startDate:new C.g("",[C.z.required]),endDate:new C.g("",[C.z.required,this.endDateValidator]),filteredCondition:new C.g(""),subid:new C.g({value:"",disabled:!0}),split:new C.g(""),reportFormat:new C.g("json")}),this.initResponseFields.map(e=>{this.responseFields.push(this.fb.group(e))})}get startDateControl(){return this.dynamicAPIFG.get("startDate")}get endDateControl(){return this.dynamicAPIFG.get("endDate")}endDateValidator(e){var t;const i=new Date(null===(t=e.parent)||void 0===t?void 0:t.get("startDate").value),r=new Date(e.value);return i&&r&&r<i?{invalidRange:!0}:null}onFilteredConditionChange(e){const t=this.dynamicAPIFG.get("subid");e.value?t.enable():t.disable()}removeResponseField(e){this.responseFields.removeAt(e)}addResponse(e){this.responseFields.push(this.newResponseFields())}newResponseFields(){return this.fb.group({originalApi:["",C.z.required],returnApi:["",C.z.required]})}get responseFields(){return this.dynamicAPIFG.controls.responseFields}getSelectedCompanyFromLocalStorage(){return this.userService.getSelectedCompanyFromLocalStorage()}submitHandle(){if(this.dynamicAPIFG.markAllAsTouched(),this.dynamicAPIFG.valid){const e=this.startDateControl.value.toISOString().slice(0,10),t=this.endDateControl.value.toISOString().slice(0,10);this.dynamicAPIFG.patchValue({startDate:e,endDate:t}),this.dynamicAPIService.createDynamicAPI(this.dynamicAPIFG.value).subscribe(e=>{this.notification.showSuccess("Successfully added a new Dynamic API.",""),this.router.navigate(["/dynamicAPI/all-dynamic-api"])},e=>{this.notification.showError(JSON.stringify(e.error),"")})}}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(C.f),a.Qb(n.h),a.Qb(c.a),a.Qb(o.a),a.Qb(m))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-dynamic-api-create"]],viewQuery:function(e,t){var i;1&e&&a.Tc(C.k,!0),2&e&&a.zc(i=a.ic())&&(t.formGroupDirective=i.first)},decls:2,vars:2,consts:[["class","example-container",3,"formGroup","submit",4,"ngIf"],["class","error error-3 d-flex flex-row-fluid bgi-size-cover bgi-position-center","style","background-image: url('./assets/media/error/bg3.jpg'); height: 100%;zoom: 1;\n  display: block;\n  min-height: 80vh;\n  font-size: 14px;\n  line-height: 1.4;\n  color: #0e1724;",4,"ngIf"],[1,"example-container",3,"formGroup","submit"],[1,"row"],[1,"col-xl-8"],[1,"col-xl-12"],[1,"card","card-custom","example","example-compact","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],[1,"row","py-3"],[1,"col-xl-6"],["matInput","","formControlName","apiName","placeholder","API Name"],[4,"ngIf"],["matInput","","formControlName","advertiserProvider","placeholder","Advertiser Provider"],["type","url","matInput","","formControlName","dynamicApiUri","placeholder","DynamicAPIURI"],[1,"col-xl-3"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","responseFields"],["class","row py-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-xl-4"],["matNativeControl","","formControlName","filteredCondition",3,"selectionChange"],["value","StartsWith"],["value","EndsWith"],["value","Contains"],["value","Equal"],["matInput","","formControlName","subid","placeholder","Subid"],["type","number","matInput","","formControlName","split","placeholder","Split"],["matInput","","placeholder","Start Date","formControlName","startDate",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","placeholder","End Date","formControlName","endDate",3,"matDatepicker"],["endDatePicker",""],["matNativeControl","","formControlName","reportFormat"],["value","json"],["value","csv"],[1,"row","pt-2"],["mat-raised-button","","color","primary","type","submit",1,"save-button"],[1,"row","py-2",3,"formGroupName"],[1,"col-xl-5"],["matInput","","placeholder","Original API","formControlName","originalApi"],["matInput","","placeholder","Return API","formControlName","returnApi"],[1,"col-xl-2"],["title","Delete Response Field",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],[1,"error","error-3","d-flex","flex-row-fluid","bgi-size-cover","bgi-position-center",2,"background-image","url('./assets/media/error/bg3.jpg')","height","100%","zoom","1","display","block","min-height","80vh","font-size","14px","line-height","1.4","color","#0e1724"],[1,"px-10","px-md-30","py-10","py-md-0","d-flex","flex-column","justify-content-md-center"],[1,"display-4","font-weight-boldest","text-white","mb-12"],[1,"font-size-h1","font-weight-boldest","text-dark-75"],[1,"font-size-h4","line-height-md"]],template:function(e,t){1&e&&(a.Mc(0,X,83,15,"form",0),a.Mc(1,J,10,0,"div",1)),2&e&&(a.rc("ngIf",!t.hidden),a.Db(1),a.rc("ngIf",t.hidden))},directives:[r.p,C.B,C.r,C.k,G.c,x.b,C.d,C.q,C.i,C.e,r.o,G.g,R.a,k.p,C.v,N.d,N.f,G.j,N.c,E.b,G.b,C.l,u.a],pipes:[r.j],styles:[""]}),e})();function _(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"API Name is required. "),a.Vb())}function Y(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"Advertiser Provider is required. "),a.Vb())}function Z(e,t){1&e&&(a.Wb(0,"span"),a.Oc(1,"DynamicAPIURI is required."),a.Vb())}function ee(e,t){1&e&&(a.Wb(0,"span"),a.Oc(1,"Invalid URL format."),a.Vb())}function te(e,t){if(1&e&&(a.Wb(0,"mat-error"),a.Mc(1,Z,2,0,"span",14),a.Mc(2,ee,2,0,"span",14),a.Vb()),2&e){const e=a.lc(2);a.Db(1),a.rc("ngIf",null==e.dynamicAPIEditFG.get("dynamicApiUri").errors?null:e.dynamicAPIEditFG.get("dynamicApiUri").errors.required),a.Db(1),a.rc("ngIf",null==e.dynamicAPIEditFG.get("dynamicApiUri").errors?null:e.dynamicAPIEditFG.get("dynamicApiUri").errors.pattern)}}function ie(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1," Original API is required. "),a.Vb())}function re(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1," Return API is required. "),a.Vb())}function ne(e,t){if(1&e){const e=a.Xb();a.Wb(0,"div",41),a.Wb(1,"div",42),a.Wb(2,"mat-form-field"),a.Rb(3,"input",43),a.Mc(4,ie,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(5,"div",42),a.Wb(6,"mat-form-field"),a.Rb(7,"input",44),a.Mc(8,re,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(9,"div",45),a.Wb(10,"a",46),a.hc("click",(function(){a.Dc(e);const i=t.index;return a.lc(2).removeResponseField(i)})),a.Rb(11,"span",47),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=t.$implicit;a.rc("formGroupName",t.index),a.Db(4),a.rc("ngIf",null==e.get("originalApi").errors?null:e.get("originalApi").errors.required),a.Db(4),a.rc("ngIf",null==e.get("returnApi").errors?null:e.get("returnApi").errors.required),a.Db(3),a.rc("inlineSVG","./assets/media/svg/icons/General/Trash.svg")}}function ae(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"Start Date is required"),a.Vb())}function oe(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"End Date is required"),a.Vb())}function ce(e,t){1&e&&(a.Wb(0,"mat-error"),a.Oc(1,"End Date must be greater than Start Date"),a.Vb())}function de(e,t){if(1&e){const e=a.Xb();a.Wb(0,"form",2),a.hc("submit",(function(){return a.Dc(e),a.lc().submitHandle()})),a.Wb(1,"div",3),a.Wb(2,"div",4),a.Wb(3,"div",3),a.Wb(4,"div",5),a.Wb(5,"div",6),a.Wb(6,"div",7),a.Wb(7,"div",8),a.Wb(8,"h3",9),a.Oc(9,"Edit Dynamic API"),a.Vb(),a.Vb(),a.Vb(),a.Wb(10,"div",10),a.Oc(11),a.mc(12,"json"),a.Wb(13,"div",11),a.Wb(14,"div",12),a.Wb(15,"mat-form-field"),a.Rb(16,"input",13),a.Mc(17,_,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(18,"div",12),a.Wb(19,"mat-form-field"),a.Rb(20,"input",15),a.Mc(21,Y,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Vb(),a.Wb(22,"div",11),a.Wb(23,"div",16),a.Wb(24,"mat-form-field"),a.Rb(25,"input",17),a.Mc(26,te,3,2,"mat-error",14),a.Vb(),a.Vb(),a.Vb(),a.Wb(27,"div",11),a.Wb(28,"div",18),a.Wb(29,"button",19),a.hc("click",(function(t){return a.Dc(e),a.lc().addResponse(t)})),a.Oc(30," Add Response Fields "),a.Vb(),a.Vb(),a.Vb(),a.Wb(31,"div",20),a.Mc(32,ne,12,4,"div",21),a.Vb(),a.Wb(33,"div",22),a.Wb(34,"div",23),a.Wb(35,"mat-form-field"),a.Wb(36,"mat-label"),a.Oc(37,"Filtered Condition"),a.Vb(),a.Wb(38,"mat-select",24),a.hc("selectionChange",(function(t){return a.Dc(e),a.lc().onFilteredConditionChange(t)})),a.Wb(39,"mat-option",25),a.Oc(40,"StartsWith"),a.Vb(),a.Wb(41,"mat-option",26),a.Oc(42,"EndsWith"),a.Vb(),a.Wb(43,"mat-option",27),a.Oc(44,"Contains"),a.Vb(),a.Wb(45,"mat-option",28),a.Oc(46,"Equal"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(47,"div",23),a.Wb(48,"mat-form-field"),a.Rb(49,"input",29),a.Vb(),a.Vb(),a.Wb(50,"div",23),a.Wb(51,"mat-form-field"),a.Rb(52,"input",30),a.Vb(),a.Vb(),a.Vb(),a.Wb(53,"div",22),a.Wb(54,"div",12),a.Wb(55,"mat-form-field"),a.Rb(56,"input",31),a.Rb(57,"mat-datepicker-toggle",32),a.Rb(58,"mat-datepicker",null,33),a.Mc(60,ae,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Wb(61,"div",12),a.Wb(62,"mat-form-field"),a.Rb(63,"input",34),a.Rb(64,"mat-datepicker-toggle",32),a.Rb(65,"mat-datepicker",null,35),a.Mc(67,oe,2,0,"mat-error",14),a.Mc(68,ce,2,0,"mat-error",14),a.Vb(),a.Vb(),a.Vb(),a.Wb(69,"div",22),a.Wb(70,"div",12),a.Wb(71,"mat-form-field"),a.Wb(72,"mat-label"),a.Oc(73,"Report Format"),a.Vb(),a.Wb(74,"mat-select",36),a.Wb(75,"mat-option",37),a.Oc(76,"JSON"),a.Vb(),a.Wb(77,"mat-option",38),a.Oc(78,"CSV"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Wb(79,"div",39),a.Wb(80,"div",16),a.Wb(81,"button",40),a.Oc(82,"Save"),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Vb()}if(2&e){const e=a.Ac(59),t=a.Ac(66),i=a.lc();a.rc("formGroup",i.dynamicAPIEditFG),a.Db(11),a.Qc(" ",a.nc(12,13,i.dynamicAPIEditFG.value)," "),a.Db(6),a.rc("ngIf",null==i.dynamicAPIEditFG.get("apiName").errors?null:i.dynamicAPIEditFG.get("apiName").errors.required),a.Db(4),a.rc("ngIf",null==i.dynamicAPIEditFG.get("advertiserProvider").errors?null:i.dynamicAPIEditFG.get("advertiserProvider").errors.required),a.Db(5),a.rc("ngIf",i.dynamicAPIEditFG.get("dynamicApiUri").invalid&&(i.dynamicAPIEditFG.get("dynamicApiUri").dirty||i.dynamicAPIEditFG.get("dynamicApiUri").touched)),a.Db(6),a.rc("ngForOf",i.responseFields.controls),a.Db(24),a.rc("matDatepicker",e),a.Db(1),a.rc("for",e),a.Db(3),a.rc("ngIf",i.startDateControl.hasError("required")),a.Db(3),a.rc("matDatepicker",t),a.Db(1),a.rc("for",t),a.Db(3),a.rc("ngIf",i.endDateControl.hasError("required")),a.Db(1),a.rc("ngIf",i.endDateControl.hasError("invalidRange"))}}function se(e,t){1&e&&(a.Wb(0,"div",48),a.Wb(1,"div",49),a.Wb(2,"p",50),a.Oc(3," How did you get here "),a.Vb(),a.Wb(4,"p",51),a.Oc(5," Sorry you can't access the page you're looking for. "),a.Vb(),a.Wb(6,"p",52),a.Oc(7," There may be a misspelling in the URL entered,"),a.Rb(8,"br"),a.Oc(9,"or the page you are looking for may no longer exist. "),a.Vb(),a.Vb(),a.Vb())}let le=(()=>{class e{constructor(e,t,i,r,n,a){this.fb=e,this.router=t,this.route=i,this.notification=r,this.userService=n,this.dynamicAPIService=a,this.hidden=!1,this.options=[{label:"One Date",value:"one"},{label:"Two Date",value:"two"}],this.localStorageCompany=this.getSelectedCompanyFromLocalStorage()}ngOnInit(){this.localStorageCompany?this.hidden=!1:(this.hidden=!0,this.notification.showError("Please select your Company!","")),this.dynamicAPIEditFG=this.fb.group({apiName:new C.g("",[C.z.required]),advertiserProvider:new C.g("",[C.z.required]),dynamicApiUri:new C.g("",[C.z.required,C.z.pattern(/^(https?|ftp):\/\/[^\s/$.?#].[^\s]*$/)]),responseFields:this.fb.array([]),startDate:new C.g("",[C.z.required]),endDate:new C.g("",[C.z.required,this.endDateValidator]),filteredCondition:new C.g(""),subid:new C.g({value:"",disabled:!0}),split:new C.g(""),reportFormat:new C.g("")}),this.route.snapshot.params.id&&this.dynamicAPIService.getOneDynamicAPI(this.route.snapshot.params.id).subscribe(e=>{this.dyanmicAPIData=e,e.responseFields.map(e=>{this.responseFields.push(this.fb.group(e))}),this.dynamicAPIEditFG.patchValue({apiName:e.apiName,advertiserProvider:e.advertiserProvider,dynamicApiUri:e.dynamicApiUri,responseFields:e.responseFields,startDate:e.startDate,endDate:e.endDate,filteredCondition:"empty"!==e.filteredCondition?e.filteredCondition:"",subid:"empty"!==e.subid?e.subid:"",split:0!==e.split?e.split:"",reportFormat:e.reportFormat});const t=this.dynamicAPIEditFG.get("subid");e.subid?t.enable():t.disable()})}getSelectedCompanyFromLocalStorage(){return this.userService.getSelectedCompanyFromLocalStorage()}onFilteredConditionChange(e){const t=this.dynamicAPIEditFG.get("subid");e.value?t.enable():t.disable()}get startDateControl(){return this.dynamicAPIEditFG.get("startDate")}get endDateControl(){return this.dynamicAPIEditFG.get("endDate")}endDateValidator(e){var t;const i=new Date(null===(t=e.parent)||void 0===t?void 0:t.get("startDate").value),r=new Date(e.value);return i&&r&&r<i?{invalidRange:!0}:null}removeResponseField(e){this.responseFields.removeAt(e)}addResponse(e){this.responseFields.push(this.newResponseFields())}newResponseFields(){return this.fb.group({originalApi:["",C.z.required],returnApi:["",C.z.required]})}get responseFields(){return this.dynamicAPIEditFG.controls.responseFields}submitHandle(){this.dynamicAPIEditFG.markAllAsTouched(),this.dynamicAPIEditFG.valid&&(this.dyanmicAPIData=Object.assign(Object.assign({},this.dyanmicAPIData),this.dynamicAPIEditFG.value),this.dynamicAPIService.updateDynamicAPI(this.dyanmicAPIData).subscribe(e=>{this.notification.showSuccess("Successfully updated a Dynamic API.",""),this.router.navigate(["/dynamicAPI/all-dynamic-api"])},e=>{this.notification.showError(JSON.stringify(e.error),"")}))}}return e.\u0275fac=function(t){return new(t||e)(a.Qb(C.f),a.Qb(n.h),a.Qb(n.a),a.Qb(c.a),a.Qb(o.a),a.Qb(m))},e.\u0275cmp=a.Kb({type:e,selectors:[["app-dynamic-api-update"]],viewQuery:function(e,t){var i;1&e&&a.Tc(C.k,!0),2&e&&a.zc(i=a.ic())&&(t.formGroupDirective=i.first)},decls:2,vars:2,consts:[["class","example-container",3,"formGroup","submit",4,"ngIf"],["class","error error-3 d-flex flex-row-fluid bgi-size-cover bgi-position-center","style","background-image: url('./assets/media/error/bg3.jpg'); height: 100%;zoom: 1;\n  display: block;\n  min-height: 80vh;\n  font-size: 14px;\n  line-height: 1.4;\n  color: #0e1724;",4,"ngIf"],[1,"example-container",3,"formGroup","submit"],[1,"row"],[1,"col-xl-8"],[1,"col-xl-12"],[1,"card","card-custom","example","example-compact","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"card-body"],[1,"row","py-3"],[1,"col-xl-6"],["matInput","","formControlName","apiName","placeholder","API Name"],[4,"ngIf"],["matInput","","formControlName","advertiserProvider","placeholder","Advertiser Provider"],[1,"col-md-12"],["type","url","matInput","","formControlName","dynamicApiUri","placeholder","DynamicAPIURI"],[1,"col-xl-3"],["type","button",1,"btn","btn-sm","btn-primary",3,"click"],["formArrayName","responseFields"],["class","row py-2",3,"formGroupName",4,"ngFor","ngForOf"],[1,"row","py-2"],[1,"col-xl-4"],["matNativeControl","","formControlName","filteredCondition",3,"selectionChange"],["value","StartsWith"],["value","EndsWith"],["value","Contains"],["value","Equal"],["matInput","","formControlName","subid","placeholder","Subid"],["type","number","matInput","","formControlName","split","placeholder","Split"],["matInput","","placeholder","Start Date","formControlName","startDate",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","placeholder","End Date","formControlName","endDate",3,"matDatepicker"],["endDatePicker",""],["matNativeControl","","formControlName","reportFormat"],["value","json"],["value","csv"],[1,"row","pt-2"],["mat-raised-button","","color","primary","type","submit",1,"save-button"],[1,"row","py-2",3,"formGroupName"],[1,"col-xl-5"],["matInput","","placeholder","Original API","formControlName","originalApi"],["matInput","","placeholder","Return API","formControlName","returnApi"],[1,"col-xl-2"],["title","Delete Response Field",1,"btn","btn-icon","btn-light","btn-hover-danger","btn-sm",3,"click"],["cacheSVG","false",1,"svg-icon","svg-icon-md","svg-icon-danger",3,"inlineSVG"],[1,"error","error-3","d-flex","flex-row-fluid","bgi-size-cover","bgi-position-center",2,"background-image","url('./assets/media/error/bg3.jpg')","height","100%","zoom","1","display","block","min-height","80vh","font-size","14px","line-height","1.4","color","#0e1724"],[1,"px-10","px-md-30","py-10","py-md-0","d-flex","flex-column","justify-content-md-center"],[1,"display-4","font-weight-boldest","text-white","mb-12"],[1,"font-size-h1","font-weight-boldest","text-dark-75"],[1,"font-size-h4","line-height-md"]],template:function(e,t){1&e&&(a.Mc(0,de,83,15,"form",0),a.Mc(1,se,10,0,"div",1)),2&e&&(a.rc("ngIf",!t.hidden),a.Db(1),a.rc("ngIf",t.hidden))},directives:[r.p,C.B,C.r,C.k,G.c,x.b,C.d,C.q,C.i,C.e,r.o,G.g,R.a,k.p,C.v,N.d,N.f,G.j,N.c,E.b,G.b,C.l,u.a],pipes:[r.j],styles:[""]}),e})();const be=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Kb({type:e,selectors:[["app-dynamic-api"]],decls:1,vars:0,template:function(e,t){1&e&&a.Rb(0,"router-outlet")},directives:[n.l],styles:[""]}),e})(),children:[{path:"all-dynamic-api",component:S},{path:"create",component:B},{path:"edit/:id",component:le,pathMatch:"full"},{path:"",redirectTo:"",pathMatch:"full"},{path:"**",redirectTo:"",pathMatch:"full"}]}];let me=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[n.k.forChild(be)],n.k]}),e})();var pe=i("NFeN"),ue=i("UKGz"),he=i("QibW");let ge=(()=>{class e{}return e.\u0275mod=a.Ob({type:e}),e.\u0275inj=a.Nb({factory:function(t){return new(t||e)},imports:[[r.c,me,C.m,C.w,G.e,x.c,E.c,N.e,pe.b,he.c,R.b,p.g,ue.a,u.b.forRoot()]]}),e})()},UKGz:function(e,t,i){"use strict";i.d(t,"a",(function(){return m}));var r=i("ofXK"),n=i("3Pt+"),a=i("d3UM"),o=i("FKr1"),c=i("iadO"),d=i("MutI"),s=i("kmnG"),l=i("e8Ap"),b=i("fXoL");let m=(()=>{class e{}return e.\u0275mod=b.Ob({type:e}),e.\u0275inj=b.Nb({factory:function(t){return new(t||e)},imports:[[r.c,n.w,n.m,s.e,o.n,a.b,o.q,c.e,d.d,l.b]]}),e})()}}]);